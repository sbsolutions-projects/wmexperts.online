<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="In-depth article about SAP EWM. Learn technical and functional details about Enhance SAP EWM: Latest Starting Date (LSD) Calculation.">
    <meta name="keywords" content="SAP EWM, Warehouse Management, Latest Starting Date, LSD, BAdI, Enhancement">
    <meta name="author" content="Hendrik">
    <link rel="icon" type="image/png" href="/assets/favicon/wmexperts%20favicon.png">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="article">
    <meta property="og:title" content="Enhance SAP EWM: Latest Starting Date (LSD) Calculation | WMexperts">
    <meta property="og:description" content="In-depth article about SAP EWM. Learn technical and functional details about Enhance SAP EWM: Latest Starting Date (LSD) Calculation.">
    <meta property="article:published_time" content="2025-02-15">
    <meta property="article:modified_time" content="2025-02-15">

    <!-- Structured Data -->
<script type="application/ld+json">
{
  "@context": "https://schema.org/",
  "@type": "BlogPosting",
  "headline": "Enhance SAP EWM - Latest Starting Date (LSD) Calculation",
  "description": "In-depth article about SAP EWM. Learn technical and functional details about Latest Starting Date (LSD).",
  "image": "../../assets/images/enhance/lsd/lsd-process-04.png",
  "datePublished": "2025-02-15T00:00:00Z",
  "dateModified": "2025-02-15T00:00:00Z",
  "author": {
    "@type": "Person",
    "name": "Hendrik"
  },
  "publisher": {
    "@type": "Organization",
    "name": "WMexperts",
    "logo": {
      "@type": "ImageObject",
      "url": "https://wmexperts.online/assets/favicon/favicon-32x32.png"
    }
  }
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://wmexperts.online/"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Enhance SAP EWM",
      "item": "https://wmexperts.online/blog-posts/enhance/"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "Enhance SAP EWM: Latest Starting Date (LSD) Calculation",
      "item": "https://wmexperts.online/blog-posts/enhance/enhance-lsd.html"
    }
  ]
}
</script>

    <title>Enhance SAP EWM: Latest Starting Date (LSD) Calculation | WMexperts</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/style.css">
</head>
<body>

    <header id="main-header"></header>

    <article>
        <div class="breadcrumb">Enhance SAP EWM</div>
        <h1>Latest Starting Date (LSD) Calculation</h1>

        <div class="video-wrapper">
            <iframe src="https://www.youtube-nocookie.com/embed/jmQjKQFHbeE" title="YouTube video player" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>

        <div class="content">
            <strong>Latest Starting Date (LSD) Calculation</strong>
            <p>I closed my <a href="../reveal/reveal-lsd.html" target="_blank" rel="noopener">blog about the standard calculation of the LSD</a> with the option to change the result manually. I guess you all know that this can easily done via the warehouse monitor. FM <em><code>/SCWM/RSRC_WO_LSD_CHANGE_MON</code></em> takes care to write the update in all relevant tables.</p>		
            
            <div class="screenshot-container">
                <img width="1024" height="373" src="../../assets/images/enhance/lsd/SAP EWM Enhance LSD calculation 01.png" alt="SAP EWM Enhance LSD calculation 01" loading="lazy" />
            </div>
            
            <div class="screenshot-container">
                <img width="732" height="308" src="../../assets/images/enhance/lsd/SAP EWM Enhance LSD calculation 02.png" alt="SAP EWM Enhance LSD calculation 02" loading="lazy" />
            </div>
            
            <p>This is a feature you or the warehouse supervisor might want to use in exceptional cases to prioritize one WO over the other (e.g. you get a last-minute high-priority order which should be processed earlier as usual).</p>
            <p>This should not be the topic of this blog post though. In this tutorial you will learn about a bunch of different options that SAP EWM offers to manipulate the standard way of calculating the LSD with custom coding.<br />As with all my other suggestions about how to change the standard code I will only consider options given via clean enhancements spots to ensure that whatever coding you implement will survive future release updates from SAP.</p>
            <p>To provide structure to this post, we'll once again refer to the formula highlighted in my previous discussion on this topic. Please note that this post builds on the concepts covered earlier, so I recommend reviewing the <a href="../reveal/reveal-lsd.html" target="_blank" rel="noopener">previous post</a> if you haven't already, as I won't be re-explaining the basics.</p>
            <p>We learned before that EWM is using this formula to calculate the LSD:</p>
            <p><em>LSD = WO due date - (planned execution duration + planned movements duration)</em></p>
            <p>That also means that to change the calculation of the LSD, we can implement a logic that either changes the standard result directly, or that changes the approach for calculating the different components of the formula. Thus, I structured this article in the following way:</p>
            <ul>
                <li>Options to enhance the <em>WO due date</em> calculation</li>
                <li>Options to enhance the (<em>planned execution duration</em> calculation</li>
                <li>Options to enhance the <em>planned movements duration</em>) calculation</li>
                <li>Options to enhance the result of the standard LSD calculation directly</li>
            </ul>
            <p><u>Notes</u></p>
            <ul>
                <li>I am sure that I did not identify 100% if the possibilities but I am optimistic that I found the most important ones for each of the 4 categories listed above!</li>
                <li>As with my previous article about the LSD calculation, I decided to take everything related to the Labor Management out of scope. The article would simply become too long and I assume most of you are not using LM anyways. At some point I might go for a separate post about LM in this context specifically.</li>
            </ul>
            
            <p><strong><u>Options to change the </u></strong><u><b>WO due date</b></u></p>
            <p>Of course you can change the planned departure date in the Mapin Badi which will have an impact on the LSD calculation if you are working without waves. But I think nobody will change the delivery dates &amp; times of a warehouse request only to get a different LSD in the corresponding WOs. Thus, no obvious option for me to change the due date in case you are not working with waves.</p>
            <p>If you are working with waves you can make use of Badi <i><code>/SCWM/EX_WAVE_SAVE</code></i> to change the wave header data while saving. Relevant for the LSD calculation are completion dates of the separate steps (<a href="../reveal/reveal-lsd.html" target="_blank" rel="noopener">see my blog post about the LSD calculation</a> for further details). Usually (not always) those timestamps are inherited from the wave template. By overwriting them, you can influence the LSD in one way or the other (e.g. moving the pick completion date from the wave header further into the future will also lead to a later LSD in the corresponding WOs).</p>		
            
            <div class="screenshot-container">
                <img width="1024" height="483" src="../../assets/images/enhance/lsd/SAP EWM Enhance LSD calculation 03.png" alt="SAP EWM Enhance LSD calculation 03" loading="lazy" />
            </div>
            
            <div class="screenshot-container">
                <img width="1024" height="363" src="../../assets/images/enhance/lsd/SAP EWM Enhance LSD calculation 04.png" alt="SAP EWM Enhance LSD calculation 04" loading="lazy" />
            </div>
            
            <p><strong><u>Options to change the </u></strong><u><b>planned execution duration</b></u><strong><u> calculation</u></strong></p>
            <p>Badi <em><code>/SCWM/ES_CORE_WT_RT</code></em> gives you the option to overwrite the execution duration which had been calculated and summarized by the standard logic for the source and destination bin. When you increase the execution duration with a custom logic you will end up with an earlier LSD (remember the formula above).</p>
            
<pre><code>*       Within this BAdi method the user has the possiblity to overwrite
*       the reach time based on various parameters.
*       The resulting reach time will be converted to the time unit
*       of the warehouse.</code></pre>
            
            <div class="screenshot-container">
                <img width="1024" height="686" src="../../assets/images/enhance/lsd/SAP EWM Enhance LSD calculation 05.png" alt="SAP EWM Enhance LSD calculation 05" loading="lazy" />
            </div>
            
            <p><strong><u>Options to change the </u></strong><u><b>planned movements duration</b></u><strong><u> calculation</u></strong></p>
            <p>The movement duration can only be manipulated while using option 2 for the travel distance calculation (the 'new' way for the calculation which has to be activated on warehouse number level &gt; <a href="../reveal/reveal-lsd.html" target="_blank" rel="noopener">check my blog post </a><a href="../reveal/reveal-lsd.html" target="_blank">about the LSD calculation</a> if you are not familiar with the two different options here).</p>		
            
            <div class="screenshot-container">
                <img width="905" height="208" src="../../assets/images/enhance/lsd/SAP EWM Enhance LSD calculation 06.png" alt="SAP EWM Enhance LSD calculation 06" loading="lazy" />
            </div>
            
            <div class="screenshot-container">
                <img width="1004" height="889" src="../../assets/images/enhance/lsd/SAP EWM Enhance LSD calculation 07.png" alt="SAP EWM Enhance LSD calculation 07" loading="lazy" />
            </div>
            
            <p>Badi <em><code>/SCWM/EX_TDC_START</code></em> can be used to implement your own distance calculation algorithm. The Badi is called from method <em><code>/SCWM/CL_TDC-CALC_DISTANCE</code></em> (in fact the standard calculation of the distance is sitting in an example implementation of this Badi - you can copy the fallback class and use the adjusted copy in your Badi implementation). Increasing the distance will increase the movement duration which will result in an earlier LSD (remember the formula above):</p>		
            
            <div class="screenshot-container">
                <img width="1024" height="588" src="../../assets/images/enhance/lsd/SAP EWM Enhance LSD calculation 08.png" alt="SAP EWM Enhance LSD calculation 08" loading="lazy" />
            </div>
            
            <div class="screenshot-container">
                <img width="1024" height="652" src="../../assets/images/enhance/lsd/SAP EWM Enhance LSD calculation 09.png" alt="SAP EWM Enhance LSD calculation 09" loading="lazy" />
            </div>
            
            <p>Once the distance has been calculated, Badi <em><code>/SCWM/EX_TDC_BRF_CALC_TIME</code></em> can be used to calculate the travel time. Again, the standard logic is sitting in the example implementation. Again, you can copy the fallback class and use the adjusted copy in your Badi implementation. Increasing the travel time will result in an earlier LSD (remember the formula above):</p>		
            
            <div class="screenshot-container">
                <img width="1024" height="561" src="../../assets/images/enhance/lsd/SAP EWM Enhance LSD calculation 11.png" alt="SAP EWM Enhance LSD calculation 11" loading="lazy" />
            </div>
            
            <div class="screenshot-container">
                <img width="869" height="561" src="../../assets/images/enhance/lsd/SAP EWM Enhance LSD calculation 10.png" alt="SAP EWM Enhance LSD calculation 10" loading="lazy" />
            </div>
            
            <p>The Badi is called from method <em><code>/SCWM/CL_TDC-/SCWM/IF_LM_TDC~GET_TIME_FOR_LSD</code></em></p>		
            
            <p><strong>Options to change the result of the standard LSD calculation directly</strong></p>
            <p>The most important Badi here is <i><code>/SCWM/EX_RSRC_PROC_WO</code></i>, which can be used to simply overwrite the result of the standard LSD calculation. Of course this Badi is only called in case FM <i><code>/SCWM/RSRC_WHO_CREATE</code></i> is executed, which is only the case if the WO is assigned to a resource management relevant queue.</p>		
            
            <div class="screenshot-container">
                <img width="1024" height="356" src="../../assets/images/enhance/lsd/SAP EWM Enhance LSD calculation 12.png" alt="SAP EWM Enhance LSD calculation 12" loading="lazy" />
            </div>
            
            <div class="screenshot-container">
                <img width="1024" height="602" src="../../assets/images/enhance/lsd/SAP EWM Enhance LSD calculation 13.png" alt="SAP EWM Enhance LSD calculation 13" loading="lazy" />
            </div>
            
            <p>This Badi is called to update the standard calculation before it is being saved to the DB the first time. In addition to this, you have an option to update the LSD at an even later point in time. Badi <i><code>/SCWM/EX_CORE_CO_POST</code></i> gives you a possibility to update the LSD of WO X, with the confirmation a WT from WO Y. An example implementation is given with class <i><code>/SCWM/CL_EI_CORE_POST_CONS_WHO</code></i> which can for instance be used to synchronize the completion of WOs which are processed in different activity areas. I wrote a detailed <a href="../reveal/reveal-sync-wo.html" target="_blank" rel="noopener">blog post</a> about this feature a while ago (you can also find it on <a href="https://youtu.be/Q9IaK3xB9hY?si=SVWsaepP5YkJFFfu" target="_blank" rel="noopener">Youtube</a>).</p>		
            
            <div class="screenshot-container">
                <img width="1024" height="456" src="../../assets/images/enhance/lsd/SAP EWM Enhance LSD calculation 14.png" alt="SAP EWM Enhance LSD calculation 14" loading="lazy" />
            </div>
            
            <div class="screenshot-container">
                <img width="1024" height="370" src="../../assets/images/enhance/lsd/SAP EWM Enhance LSD calculation 15.png" alt="SAP EWM Enhance LSD calculation 15" loading="lazy" />
            </div>
            
            <p>Last but not least - and worth it to mention here - SAP provides an API to change the warehouse order header data from any kind of custom logic, sitting with EWM or in some kind of custom/non-SAP software.</p>
            <p>Class <em><code>/SCWM/CL_API_WHSE_ORDER</code></em>, method <em><code>/SCWM/IF_API_WHSE_ORDER~UPDATE</code></em>:</p>		
            
            <div class="screenshot-container">
                <img width="1024" height="258" src="../../assets/images/enhance/lsd/SAP EWM Enhance LSD calculation 16.png" alt="SAP EWM Enhance LSD calculation 16" loading="lazy" />
            </div>
            
            <div class="screenshot-container">
                <img src="../../assets/images/enhance/lsd/SAP EWM Enhance LSD calculation 17.png" alt="SAP EWM Enhance LSD calculation 17" loading="lazy" />
            </div>
            
            <p>To conclude this post, as promised in my blog about LSD calculation, we will take a small step away from classical deliveries as warehouse requests towards production material requests.</p>
            <p>Most of the options listed above are not applicable for PMRs. However, Badi <em><code>/SCWM/EX_MFG_STAGE_WT_SO</code></em> provides the option to set the pick completion date during staging WT creation. This date will later be used to calculate the due date and the LSD, particularly if you are working with a single-order staging approach. If you are working with cross-order staging, you can use Badi <em><code>/SCWM/EX_MFG_STAGE_WT_CO</code></em>.</p>
            <p>Both Badis are called via the interface method <em><code>ENRICH_DATA</code></em> from class <em><code>/SCWM/CL_MFG_STP_STAGE</code></em>, using the methods <em><code>PREPARE_WT_SINGLE</code></em> and <em><code>PREPARE_WT_CROSS</code></em>, respectively:</p>		
            
            <div class="screenshot-container">
                <img src="../../assets/images/enhance/lsd/SAP EWM Enhance LSD calculation 18.png" alt="SAP EWM Enhance LSD calculation 18" loading="lazy" />
            </div>
            
            <p>The method offers a changeable structure where you can adjust the pick completion date:</p>		
            
            <div class="screenshot-container">
                <img src="../../assets/images/enhance/lsd/SAP EWM Enhance LSD calculation 19.png" alt="SAP EWM Enhance LSD calculation 19" loading="lazy" />
            </div>
            
            <div class="screenshot-container">
                <img width="1024" height="711" src="../../assets/images/enhance/lsd/SAP EWM Enhance LSD calculation 20.png" alt="SAP EWM Enhance LSD calculation 20" loading="lazy" />
            </div>
            
            <p>SAP provides an example implementation of the single-order staging Badi (class <em><code>/SCWM/CL_EI_MFG_STAGE_WT_SO</code></em>), which includes logic to set the LSD based on the requirements date. This date is determined in the ERP system for the production order components and is mapped to the EWM date type <code>SCMPREQ</code> of the PMR item:</p>		
            
            <div class="screenshot-container">
                <img width="1024" height="422" src="../../assets/images/enhance/lsd/SAP EWM Enhance LSD calculation 22.png" alt="SAP EWM Enhance LSD calculation 22" loading="lazy" />
            </div>
            
            <div class="screenshot-container">
                <img width="1024" height="354" src="../../assets/images/enhance/lsd/SAP EWM Enhance LSD calculation 23.png" alt="SAP EWM Enhance LSD calculation 23" loading="lazy" />
            </div>
            
            <p>Please note that this class is not invoked as a fallback. Therefore, EWM will not set the LSD for PMR WOs unless you implement this Badi. You can either use the example class provided or copy it and incorporate your own logic. Based on my tests, this approach has been working quite well:</p>		
            
            <div class="screenshot-container">
                <img width="1024" height="414" src="../../assets/images/enhance/lsd/SAP EWM Enhance LSD calculation 21.png" alt="SAP EWM Enhance LSD calculation 21" loading="lazy" />
            </div>
            
            <p>Not that the approach for the determination of the LSD based on the requirements date will not work that easily in case you are working with a cross-order staging approach. You can indeed use the Badi that I mentioned before and implement a similar logic but you will have to implement an additional Badi to end up with the same result. Cross-order staging WTs do not have a reference to a specific PMR item, which would be required though in case you want to read the requirements date based on this reference. One option is to <em><code>/SCWM/EX_MFG_STAGE_INFO</code></em> before to link the PMR item data to the staging item/task. Shoutout at this point to <a href="https://www.linkedin.com/in/ale%C5%A1-knor-8637a54/" target="_blank" rel="noopener">Ales Knor</a> from advisio.tech who drew my attention to this!</p>
            <p>That wraps up my review on enhancing the LSD calculation. I've outlined various options for you to jump in at different stages, and I'm confident that one of these approaches will meet your project's specific requirements for calculating LSD!</p>		
        </div>

        <!-- STAY UPDATED SECTION -->
        <div class="stay-updated">
            <!-- Newsletter Card -->
            <div class="stay-updated-card">
                <div>
                    <h3>📧 Newsletter</h3>
                    <p>Get updates about new blog posts directly in your inbox.</p>
                </div>
                <form action="https://online.us17.list-manage.com/subscribe/post?u=3dbafeb5441a290b4bfdeeb38&id=226759b4e6&f_id=00e24be0f0" method="post" class="newsletter-form" target="_blank" rel="noopener noreferrer">
                    <input type="email" name="EMAIL" placeholder="Your email" required>
                    <input type="text" name="FNAME" placeholder="First name">
                    <input type="text" name="LNAME" placeholder="Last name">
                    <input type="text" name="b_3dbafeb5441a290b4bfdeeb38_226759b4e6" style="display: none;" tabindex="-1">
                    <button type="submit" class="btn-subscribe">Subscribe</button>
                </form>
            </div>

            <!-- YouTube Card -->
            <div class="stay-updated-card">
                <div>
                    <h3>▶️ YouTube Channel</h3>
                    <p>Subscribe to my channel for regular tutorials & insights about SAP EWM.</p>
                </div>
                <a href="https://www.youtube.com/@sapewm?sub_confirmation=1" target="_blank" rel="noopener noreferrer" class="btn-youtube" >Subscribe on YouTube</a>
            </div>
        </div>

        <!-- FREELANCER CTA (Commented out - to be launched later)
        <section class="freelancer-cta" aria-labelledby="cta-heading">
            <h2 id="cta-heading">Need Support around SAP EWM?</h2>
            <p>WMexperts.online is the knowledge hub of Hendrik, a Senior SAP EWM Consultant with expertise in functional design, technical implementation, and project leadership.</p>
            <a href="#" class="btn-primary">Explore My Offerings →</a>
        </section>
        -->
    </article>

    <!-- ENHANCED LIGHTBOX OVERLAY -->
    <div id="lightbox">
        <span class="lightbox-close" id="lightbox-close">&times;</span>
        <span class="lightbox-prev" id="lightbox-prev">&#8249;</span>
        <span class="lightbox-next" id="lightbox-next">&#8250;</span>
        <div class="lightbox-content">
            <img id="lightbox-img" src="" alt="">
        </div>
        <div class="lightbox-counter" id="lightbox-counter"></div>
    </div>

    <footer id="main-footer"></footer>

    <!-- ENHANCED LIGHTBOX JAVASCRIPT -->
    <script>
        (function() {
            const lightbox = document.getElementById('lightbox');
            const lightboxImg = document.getElementById('lightbox-img');
            const lightboxClose = document.getElementById('lightbox-close');
            const lightboxPrev = document.getElementById('lightbox-prev');
            const lightboxNext = document.getElementById('lightbox-next');
            const lightboxCounter = document.getElementById('lightbox-counter');
            
            // Get all images that should be zoomable
            const images = document.querySelectorAll('.screenshot-container img, .content img');
            let currentImageIndex = 0;

            // Add click event to all images
            images.forEach((img, index) => {
                img.addEventListener('click', function() {
                    openLightbox(index);
                });
            });

            function openLightbox(index) {
                currentImageIndex = index;
                lightboxImg.src = images[currentImageIndex].src;
                lightboxImg.alt = images[currentImageIndex].alt;
                lightbox.classList.add('active');
                document.body.classList.add('lightbox-open');
                updateCounter();
                
                // Show/hide navigation arrows based on number of images
                if (images.length <= 1) {
                    lightboxPrev.style.display = 'none';
                    lightboxNext.style.display = 'none';
                } else {
                    lightboxPrev.style.display = 'block';
                    lightboxNext.style.display = 'block';
                }
            }

            function closeLightbox() {
                lightbox.classList.remove('active');
                document.body.classList.remove('lightbox-open');
            }

            function showPrevImage() {
                currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;
                lightboxImg.src = images[currentImageIndex].src;
                lightboxImg.alt = images[currentImageIndex].alt;
                updateCounter();
            }

            function showNextImage() {
                currentImageIndex = (currentImageIndex + 1) % images.length;
                lightboxImg.src = images[currentImageIndex].src;
                lightboxImg.alt = images[currentImageIndex].alt;
                updateCounter();
            }

            function updateCounter() {
                if (images.length > 1) {
                    lightboxCounter.textContent = `${currentImageIndex + 1} / ${images.length}`;
                    lightboxCounter.style.display = 'block';
                } else {
                    lightboxCounter.style.display = 'none';
                }
            }

            // Event listeners
            lightboxClose.addEventListener('click', function(e) {
                e.stopPropagation();
                closeLightbox();
            });

            lightboxPrev.addEventListener('click', function(e) {
                e.stopPropagation();
                showPrevImage();
            });

            lightboxNext.addEventListener('click', function(e) {
                e.stopPropagation();
                showNextImage();
            });

            // Click on overlay background to close
            lightbox.addEventListener('click', function(e) {
                if (e.target === lightbox) {
                    closeLightbox();
                }
            });

            // Keyboard navigation
            document.addEventListener('keydown', function(e) {
                if (!lightbox.classList.contains('active')) return;
                
                if (e.key === 'Escape') {
                    closeLightbox();
                } else if (e.key === 'ArrowLeft') {
                    showPrevImage();
                } else if (e.key === 'ArrowRight') {
                    showNextImage();
                }
            });

            // Prevent image content click from closing lightbox
            lightboxImg.addEventListener('click', function(e) {
                e.stopPropagation();
            });
        })();
    </script>

    <script>
    // Load global components
    fetch('/header-content.html').then(res => res.text()).then(html => document.getElementById('main-header').innerHTML = html);
    fetch('/footer-content.html').then(res => res.text()).then(html => document.getElementById('main-footer').innerHTML = html);
    </script>

</body>
</html>







