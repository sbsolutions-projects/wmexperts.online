<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="In-depth article about SAP EWM MFS. Learn technical and functional details about Task interleaving in an automated storage & retrieval system (ASRS).">
    <meta name="keywords" content="SAP EWM, Warehouse Management, MFS, ASRS, Task Interleaving, /SCWM/MFS_WT_DT, Automation">
    <meta name="author" content="Hendrik">
    <link rel="icon" type="image/png" href="/assets/favicon/wmexperts%20favicon.png">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="article">
    <meta property="og:title" content="Task interleaving in an automated storage & retrieval system (ASRS) | WMexperts">
    <meta property="og:description" content="In-depth article about SAP EWM MFS. Learn technical and functional details about Task interleaving in an automated storage & retrieval system (ASRS).">
    <meta property="article:published_time" content="2025-01-01">
    <meta property="article:modified_time" content="2025-01-01">

    <!-- Structured Data -->
    <script type="application/ld+json">
    [
      {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "headline": "Task interleaving in an automated storage & retrieval system (ASRS)",
        "description": "In-depth article about SAP EWM MFS. Learn technical and functional details about Task interleaving in an automated storage & retrieval system (ASRS).",
        "image": "https://wmexperts.online/assets/images/placeholder.png",
        "datePublished": "2025-01-01",
        "dateModified": "2025-01-01",
        "author": {
          "@type": "Person",
          "name": "Hendrik"
        },
        "publisher": {
          "@type": "Organization",
          "name": "WMexperts",
          "logo": {
            "@type": "ImageObject",
            "url": "https://wmexperts.online/assets/logo.png"
          }
        }
      },
      {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [{
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https://wmexperts.online/"
        },{
          "@type": "ListItem",
          "position": 2,
          "name": "Blog",
          "item": "https://wmexperts.online/blog-posts/category/sap-ewm-mfs.html"
        }]
      }
    ]
    </script>

    <title>Task interleaving in an automated storage & retrieval system (ASRS) | WMexperts</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --sap-blue: #005597;
            --bg-light: #F9FAFB;
            --text-dark: #111827;
            --text-muted: #4B5563;
            --border: #E5E7EB;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #ffffff;
            color: var(--text-muted);
            margin: 0;
            line-height: 1.8;
        }

        /* --- NAVIGATION --- */
        header {
            background: #fff;
            padding: 1rem 10%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo { font-weight: 600; font-size: 1.4rem; color: var(--text-dark); text-decoration: none; }
        .logo span { color: var(--sap-blue); }
        nav a { text-decoration: none; color: var(--text-muted); font-size: 0.9rem; font-weight: 600; }

        /* --- ARTICLE STRUCTURE --- */
        article { max-width: 800px; margin: 4rem auto; padding: 0 20px; }

        .breadcrumb {
            font-size: 0.75rem;
            color: var(--sap-blue);
            text-transform: uppercase;
            font-weight: 600;
            letter-spacing: 1px;
            margin-bottom: 1rem;
        }

        h1 { font-size: 2.8rem; color: var(--text-dark); line-height: 1.2; margin-bottom: 1.5rem; letter-spacing: -1px; }

        /* --- RESPONSIVE VIDEO CONTAINER --- */
        .video-wrapper {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
            height: 0;
            overflow: hidden;
            margin: 2.5rem 0;
            border-radius: 12px;
            background: #000;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .video-wrapper iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
        }

        .content p { margin-bottom: 0.75rem; font-size: 1.1rem; }
        .content h2 { color: var(--text-dark); margin-top: 1.75rem; font-size: 1.8rem; border-bottom: 2px solid var(--bg-light); padding-bottom: 0.5rem; }
        .content ul { padding-left: 1.5rem; margin-bottom: 2rem; }
        .content li { margin-bottom: 0.75rem; font-size: 1.05rem; }

        /* --- TECHNICAL & IMAGE BLOCKS --- */
        .screenshot-container { margin: 1.75rem 0; text-align: center; }
        
        .screenshot-container img {
            max-width: 66.67%;
            height: auto;
            display: block;
            margin: 0 auto;
            background-color: var(--bg-light);
            border: 1px solid var(--border);
            border-radius: 6px;
            cursor: zoom-in;
            transition: transform 0.2s ease;
        }

        .screenshot-container img:hover { transform: scale(1.01); }

        pre {
            background: #F3F4F6;
            padding: 1.25rem;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            border-left: 4px solid var(--sap-blue);
            margin: 2rem 0;
            color: var(--text-dark);
        }

        code {
            font-family: 'Courier New', monospace;
            background: #EEF2F6;
            color: var(--sap-blue);
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-size: 0.95em;
            font-weight: 500;
        }

        pre code {
            background: none;
            color: inherit;
            padding: 0;
            font-weight: normal;
        }

        /* --- ENHANCED LIGHTBOX (ZOOM) STYLING --- */
        #lightbox {
            display: none;
            position: fixed;
            z-index: 9999;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95);
            cursor: zoom-out;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
        }

        #lightbox.active {
            display: flex;
        }

        .lightbox-content {
            position: relative;
            max-width: 90%;
            max-height: 90%;
            animation: zoomIn 0.3s ease;
        }

        #lightbox img {
            max-width: 100%;
            max-height: 90vh;
            object-fit: contain;
            border-radius: 4px;
            box-shadow: 0 10px 50px rgba(0, 0, 0, 0.5);
            cursor: default;
        }

        /* Lightbox Controls */
        .lightbox-close {
            position: absolute;
            top: 20px;
            right: 30px;
            font-size: 40px;
            color: #ffffff;
            cursor: pointer;
            z-index: 10000;
            transition: transform 0.2s ease;
            font-weight: 300;
            line-height: 1;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .lightbox-close:hover {
            transform: rotate(90deg);
        }

        .lightbox-prev,
        .lightbox-next {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            font-size: 50px;
            color: #ffffff;
            cursor: pointer;
            padding: 20px;
            transition: opacity 0.2s ease;
            user-select: none;
            z-index: 10000;
        }

        .lightbox-prev:hover,
        .lightbox-next:hover {
            opacity: 0.7;
        }

        .lightbox-prev {
            left: 20px;
        }

        .lightbox-next {
            right: 20px;
        }

        .lightbox-counter {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: #ffffff;
            font-size: 16px;
            background: rgba(0, 0, 0, 0.5);
            padding: 8px 16px;
            border-radius: 20px;
            z-index: 10000;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes zoomIn {
            from { 
                opacity: 0;
                transform: scale(0.8);
            }
            to { 
                opacity: 1;
                transform: scale(1);
            }
        }

        /* Prevent body scroll when lightbox is open */
        body.lightbox-open {
            overflow: hidden;
        }

        /* --- STAY UPDATED SECTION --- */
        .stay-updated {
            margin-top: 3rem;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }

        .stay-updated-card {
            background: var(--bg-light);
            padding: 1.25rem;
            border-radius: 12px;
            border: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .stay-updated-card h3 {
            color: var(--text-dark);
            font-size: 1.3rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .stay-updated-card p {
            color: var(--text-muted);
            font-size: 0.95rem;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .newsletter-form {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .newsletter-form input {
            padding: 10px 12px;
            border: 1px solid var(--border);
            border-radius: 6px;
            font-size: 0.95rem;
            font-family: 'Inter', sans-serif;
            transition: border-color 0.2s;
        }

        .newsletter-form input:focus {
            outline: none;
            border-color: var(--sap-blue);
            box-shadow: 0 0 0 3px rgba(0, 85, 151, 0.1);
        }

        .btn-subscribe {
            padding: 10px 20px;
            background: var(--sap-blue);
            color: #fff;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s ease;
        }

        .btn-subscribe:hover {
            background: var(--sap-blue-light);
        }

        .btn-youtube {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            padding: 12px 24px;
            background: #ff0000;
            color: #fff;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            transition: background 0.2s ease;
            width: fit-content;
            margin-top: auto;
        }

        .btn-youtube:hover {
            background: #cc0000;
        }

        @media (max-width: 768px) {
            .stay-updated {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
        }

        /* --- FOOTER & CTA --- */
        .freelancer-cta {
            margin-top: 6rem;
            padding: 3rem;
            background: var(--bg-light);
            border-radius: 16px;
            text-align: center;
            border: 1px solid var(--border);
        }

        .btn-freelance {
            display: inline-block;
            background: var(--sap-blue);
            color: #fff;
            text-decoration: none;
            padding: 12px 24px;
            border-radius: 6px;
            font-weight: 600;
            margin-top: 1rem;
            transition: background 0.2s ease;
        }

        .btn-freelance:hover {
            background: #004276;
        }

        footer { padding: 4rem 10%; text-align: center; font-size: 0.85rem; color: #9CA3AF; border-top: 1px solid var(--border); }
    </style>
</head>
<body>

    <header>
        <a href="../../index.html" class="logo">WM<span>experts</span></a>
        <nav><a href="../../index.html">‚Üê Back to Blog</a></nav>
    </header>

    <article>
        <div class="breadcrumb">Discover SAP EWM MFS</div>
        <h1>Task interleaving in an automated storage &amp; retrieval system (ASRS)</h1>

        <div class="video-wrapper">
            <iframe src="https://www.youtube-nocookie.com/embed/tDbgdVv1Ecs" title="YouTube video player" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>

        <div class="content">
            <p>This blog is part of the series ‚Äò<em>SAP EWM meets Automation ‚Äì Discover EWM MFS</em>‚Äô and describes the concept for task interleaving in automated areas respectively in the context of SAP EWM MFS.</p>
            <p>We will take a quick look at the approach taken in manually operated areas again, before we head over to the automated ones. As usual, I mixed technical details with practical examples in order to make it easier for you to digest the content.</p>
            <p>Note that this blog post has been created in cooperation with the SAP EWM team at Swisslog. Feel free to visit their <a href="https://www.swisslog.com/en-us/products-systems-solutions/software-inventory-management/sap-ewm-extended-warehouse-management">website</a> in case you want to learn more about the services offered by @ Swisslog or to browse open positions within their EWM team!</p>
            <p><u>Agenda</u></p>
            <ul>
                <li>What is task interleaving at all?</li>
                <li>Recap interleaving approach for manually operated areas in SAP EWM</li>
                <li>Comparison of approaches for interleaving between manually operated and automated areas</li>
                <li>Customizing &amp; Technical details for interleaving in automated areas</li>
            </ul>
            <p>Task interleaving describes a process or strategy by which tasks of different types are combined with each other in order to reduce the total travel time and / or distance. For those of you who are not familiar at all with this concept I would suggest reading this <a href="https://wmexperts.online/understand-task-interleaving-in-sap-ewm/" target="_blank" rel="noopener">blog article</a> (or watching the corresponding <a href="https://youtu.be/1QnK3QPZPUM" target="_blank" rel="noopener">video</a>) in order to get a basic understanding.</p>
            <p>As an introduction into this article I will only give a very quick recap about how EWM implements interleaving in manually operated (e.g. via radio frequency based devices / dialogues) areas of the warehouse.</p>
            <p>We take this simple process as an example where we have forklift-operated movements of full pallets into and out of a pallet rack:</p>
            <div class="screenshot-container">
                <img src="..\..\assets\images\mfs\mfs-interleaving/SAP EWM MFS Task interleaving in ASRS_00.png" alt="SAP EWM MFS Task interleaving in ASRS_00" width="889" height="497">
            </div>
            <p>Instead of one team of operators executing the putaway and another team executing the pick tasks we want EWM to assign tasks in a way that every operator who completes a putaway tasks will get a removal tasks right away instead of driving back to the receiving area without any load in order to pick up the next putaway pallet. The same should be true for the picking process vice-versa. After dropping a picked pallet on the staging area the next task to be processed should be a putaway task. This way we are aiming to minimize the distance which is travelled without any load at all.</p>
            <p>For this purpose we define two queues in EWM:</p>
            <div class="screenshot-container">
                <img src="..\..\assets\images\mfs\mfs-interleaving/SAP EWM MFS Task interleaving in ASRS_01.png" alt="SAP EWM MFS Task interleaving in ASRS_01" width="1024" height="237">
            </div>
            <p>For those queues we do not only have to define a sequence for the given resource group (which we would need for ‚Äòsimple‚Äô system-guided RF processing with multiple queues) but also a sequence for the different <u>types</u> of queues:</p>
            <div class="screenshot-container">
                <img src="..\..\assets\images\mfs\mfs-interleaving/SAP EWM MFS Task interleaving in ASRS_04.png" alt="SAP EWM MFS Task interleaving in ASRS_04" width="935" height="854">
            </div>
            <p>This queue type sequence makes sure that the resources which are operating within the respective resource groups will always get the subsequent task from a queue with queue type B once they‚Äôve completed a task in a queue of type A.</p>
            <p>I do not want to dig deeper into the details of the logic for manually operated areas here as the focus should be on task interleaving in automated storage and retrieval systems.</p>
            <p>Thus, let us proceed with a different example from here onwards. Imagine an automated pallet high-bay storage, operated by multiple different cranes. For the sake of simplicity, imagine this high-bay storage having one aisle only, operated by one crane:</p>
            <div class="screenshot-container">
                <img src="..\..\assets\images\mfs\mfs-interleaving/SAP EWM MFS Layout oriented storage control_01 1new.png" alt="SAP EWM MFS Task interleaving in ASRS_04">
            </div>
            <div class="screenshot-container">
                <img src="..\..\assets\images\mfs\mfs-interleaving/SAP EWM MFS Task interleaving in ASRS_05new.png" alt="SAP EWM MFS Task interleaving in ASRS_05">
            </div>
            <p>Cranes in automated storage &amp; retrieval systems are created as resources in EWM. Check this <a href="https://wmexperts.online/mfs-ewm-plc-integration/" target="_blank" rel="noopener">blog</a> (or this <a href="https://youtu.be/OfmAROIuV2Y" target="_blank" rel="noopener">video</a>) in case you want to learn more about important MFS objects like ‚Äòresources‚Äô.</p>
            <p>Other than RF resources, those MFS resources are assigned to exactly one queue and process warehouse orders from this queue in a specific sequence. So you might already notice that the approach with the queue sequencing (jumping in between putaway and removal queue types like described above) will not work here. So how does it work in such an environment?</p>
            <p>In order to understand this we need to look into the code as the only customizing that EWM MFS offers for control here is this. Check this tiny little flag here along with a very lean documentation:</p>
            <div class="screenshot-container">
                <img src="..\..\assets\images\mfs\mfs-interleaving/SAP EWM MFS Task interleaving in ASRS_06.png" alt="SAP EWM MFS Task interleaving in ASRS_06" width="917" height="654">
            </div>
            <div class="screenshot-container">
                <img src="..\..\assets\images\mfs\mfs-interleaving/SAP EWM MFS Task interleaving in ASRS_07.png" alt="SAP EWM MFS Task interleaving in ASRS_07" width="1024" height="422">
            </div>
            <p>At least we get a definition of Interleaving in an EWM MFS context:</p>
            <p>‚Äú<em>By activating interleaving, you can avoid a situation where the resource travels empty from the aisle to the inclusion point, after putaway. Instead, the resource is given a new stock removal warehouse tasks before it returns. Interleaving therefore reduces the number of empty trips for the resource, and increases the throughput</em>.‚Äù</p>
            <p>So we know now where to activate task interleaving for the ASRS crane (respectively its resource type) in our example but how does it technically work? We only have one queue with tasks which is assigned to our resource:</p>
            <div class="screenshot-container">
                <img src="..\..\assets\images\mfs\mfs-interleaving/SAP EWM MFS Task interleaving in ASRS_08.png" alt="SAP EWM MFS Task interleaving in ASRS_08" width="988" height="752">
            </div>
            <div class="screenshot-container">
                <img src="..\..\assets\images\mfs\mfs-interleaving/SAP EWM MFS Task interleaving in ASRS_09.png" alt="SAP EWM MFS Task interleaving in ASRS_09" width="1024" height="306">
            </div>
            <div class="screenshot-container">
                <img src="..\..\assets\images\mfs\mfs-interleaving/SAP EWM MFS Task interleaving in ASRS_10.png" alt="SAP EWM MFS Task interleaving in ASRS_10" width="857" height="579">
            </div>
            <div class="screenshot-container">
                <img src="..\..\assets\images\mfs\mfs-interleaving/SAP EWM MFS Task interleaving in ASRS_11.png" alt="SAP EWM MFS Task interleaving in ASRS_11" width="1024" height="227">
            </div>
            <p>In order to fully understand the interleaving approach for ASRS there is no other option than looking into the coding.</p>
            <p>We start in function module <code>/SCWM/MFS_WT_DT</code>. For those of you who are following my blog this should sound familiar. This FM is responsible to decide which WT out of a pool of possible WTs (~ our crane queue) is the next one to be processed (check this <a href="https://wmexperts.online/mfs-ewm-plc-communication/" target="_blank" rel="noopener">blog post</a> or <a href="https://youtu.be/DaV-p9twI9E" target="_blank" rel="noopener">video</a> in order to learn more about the process of selecting WTs for telegram creation).</p>
            <p>First EWM checks whether to execute interleaving at all. Subroutine <code>check_resource</code> sets variable <code>lv_intleav</code> with the help of FM <code>/SCWM/RSRC_TRSRC_TYP_READ</code>, based on the resource type customizing that I showed above:</p>
            <div class="screenshot-container">
                <img src="..\..\assets\images\mfs\mfs-interleaving/SAP EWM MFS Task interleaving in ASRS_12.png" alt="SAP EWM MFS Task interleaving in ASRS_12" width="1024" height="299">
            </div>
            <div class="screenshot-container">
                <img src="..\..\assets\images\mfs\mfs-interleaving/SAP EWM MFS Task interleaving in ASRS_13.png" alt="SAP EWM MFS Task interleaving in ASRS_13" width="1024" height="369">
            </div>
            <div class="screenshot-container">
                <img src="..\..\assets\images\mfs\mfs-interleaving/SAP EWM MFS Task interleaving in ASRS_14.png" alt="SAP EWM MFS Task interleaving in ASRS_14" width="1024" height="757">
            </div>
            <p>We now have the answer to the questions whether interleaving is active or not (<code>lv_intleav</code>). For our example we assume it is active. Thus, EWM now calls subroutine <code>check_interleaving</code> in order to decide whether the next WT to be processed has to be</p>
            <ul>
                <li>a movement which is supposed to putaway a HU,</li>
                <li>or a movement which is supposed to retrieve a HU.</li>
            </ul>
            <div class="screenshot-container">
                <img src="..\..\assets\images\mfs\mfs-interleaving/SAP EWM MFS Task interleaving in ASRS_15.png" alt="SAP EWM MFS Task interleaving in ASRS_15" width="1024" height="408">
            </div>
            <p>Remember, the main purpose of task interleaving is to realize a continuous cycle of putaway-retrieval-putaway-retrieval ‚Ä¶. and so on.</p>
            <p>Thus, in order to decide about the direction of the next movement, we need to determine the direction of the last movement (as we know the next one should point towards the opposite direction). EWM uses a simple but effective trick here. Based on the fact that the coding is called during task confirmation, EWM knows that our resource is currently located at the destination bin of the last movement. This destination bin is</p>
            <ul>
                <li>either a storage bin within our MFS storage type (in case the last movement has been a putaway task)</li>
                <li>or a handover storage bin (which has to be a communication point in order to induce the next movement) outside of our MFS storage type (in case the last movement has been a retrieval task)</li>
            </ul>
            <p>So EWM simply checks whether the current bin of the resource is a communication point or not. If yes, the last movement has been a retrieval task and if not, the last movement has been a putaway task. It‚Äôs as simple as that:</p>
            <div class="screenshot-container">
                <img src="..\..\assets\images\mfs\mfs-interleaving/SAP EWM MFS Task interleaving in ASRS_16.png" alt="SAP EWM MFS Task interleaving in ASRS_16" width="1024" height="563">
            </div>
            <p>You can see in the screenshot above that our famous variable <code>cv_intleav</code> is filled with different values based on the result of the check described above.</p>
            <p>This variable is then handed over to subroutine <code>select_wo</code> which finally makes the decision which concrete warehouse order is the next one to be processed (~ the next one for which EWM will create a telegram and send it to the subsystem):</p>
            <div class="screenshot-container">
                <img src="..\..\assets\images\mfs\mfs-interleaving/SAP EWM MFS Task interleaving in ASRS_17.png" alt="SAP EWM MFS Task interleaving in ASRS_17" width="1024" height="536">
            </div>
            <ol>
                <li>The internal table <code>lt_wo_rsrc_ty</code> holds all started or open tasks for the given resource. EWM sorts the records based on the latest start date</li>
                <li>Based on the value of the local variable <code>iv_intleav</code>, EWM picks first the entry from the table in (1) which is supposed to be a picking/putaway task</li>
                <li>If a WO has been found, it is attached to the internal table <code>et_who</code> which holds all warehouse orders which could be processed next, along with the optimal sequence (sorted by putaway vs. retrieval and within those 2 groups also sorted based on the latest start date). Note: You can see in the screenshot that multiple WOs are written into this table ‚Äì this is just to be sure that there is a backup in case the first one(s) cannot be processed for any reason.</li>
            </ol>
            <div class="screenshot-container">
                <img src="..\..\assets\images\mfs\mfs-interleaving/SAP EWM MFS Task interleaving in ASRS_18.png" alt="SAP EWM MFS Task interleaving in ASRS_18" width="1024" height="684">
            </div>
            <div class="screenshot-container">
                <img src="..\..\assets\images\mfs\mfs-interleaving/SAP EWM MFS Task interleaving in ASRS_19.png" alt="SAP EWM MFS Task interleaving in ASRS_19" width="1024" height="371">
            </div>
            <p>You can see that SAP makes use of the content field from table <code>/SCWM/WO_RSRC_TY</code> (with this blog post we will not go into detail here about how this field is being filled ‚Äì just keep it as a given that this table holds information which classifies a warehouse order as being a putaway or a retrieval task).</p>
            <div class="screenshot-container">
                <img src="..\..\assets\images\mfs\mfs-interleaving/SAP EWM MFS Task interleaving in ASRS_20.png" alt="SAP EWM MFS Task interleaving in ASRS_20" width="1024" height="533">
            </div>
            <div class="screenshot-container">
                <img src="..\..\assets\images\mfs\mfs-interleaving/SAP EWM MFS Task interleaving in ASRS_21.png" alt="SAP EWM MFS Task interleaving in ASRS_21" width="732" height="411">
            </div>
            <p>From the perspective of interleaving there is nothing more important within the subroutine <code>select_wo</code>. At the end it hands over the local table <code>lt_who</code> carrying the selection of sorted warehouse orders back to FM <code>/SCWM/MFS_WT_DET</code>. The upcoming coding grabs the first WT from the table and tries to create a telegram for this WT. Telegram creation is triggered at the very end of this FM via FM <code>/SCWM/MFS_SEND</code>:</p>
            <div class="screenshot-container">
                <img src="..\..\assets\images\mfs\mfs-interleaving/SAP EWM MFS Task interleaving in ASRS_22.png" alt="SAP EWM MFS Task interleaving in ASRS_22" width="1010" height="766">
            </div>
            <div class="screenshot-container">
                <img src="..\..\assets\images\mfs\mfs-interleaving/SAP EWM MFS Task interleaving in ASRS_23.png" alt="SAP EWM MFS Task interleaving in ASRS_23" width="1024" height="560">
            </div>
            <p>From here onwards the logic has nothing specific in the context of interleaving and should not be in scope of this blog post. I wrote a different one in this blog-series from which you can derive all details about how EWM creates and sends telegrams to a subsystem.</p>
            <p><strong><u>Just a quick summary to close this one -</u></strong></p>
            <ul>
                <li>Interleaving for MFS storage types is activated via the resource type customizing</li>
                <li>In contrast to interleaving in manually operated storage types, we are not using different queue types and queue sequences assigned to resources</li>
                <li>Every resource in a MFS environment is working with one queue only and thus, has to determine the next WO to be processed based on the WO characteristics instead of a queue flip-flop</li>
                <li>EWM uses the current bin of the given resource in order to figure out whether the last processed WT has been a putaway or retrieval task</li>
            </ul>
            <p>Based on this insight it selects the next WT for the opposite direction. For this selection it uses the content field from table <code>/SCWM/WO_RSRC_TY</code></p>
            </div>

        <!-- STAY UPDATED SECTION -->
        <div class="stay-updated">
            <!-- Newsletter Card -->
            <div class="stay-updated-card">
                <div>
                    <h3>üìß Newsletter</h3>
                    <p>Get updates about new blog posts directly in your inbox.</p>
                </div>
                <form action="https://online.us17.list-manage.com/subscribe/post?u=3dbafeb5441a290b4bfdeeb38&id=226759b4e6&f_id=00e24be0f0" method="post" class="newsletter-form" target="_blank" rel="noopener noreferrer">
                    <input type="email" name="EMAIL" placeholder="Your email" required>
                    <input type="text" name="FNAME" placeholder="First name (optional)">
                    <input type="text" name="LNAME" placeholder="Last name (optional)">
                    <input type="text" name="b_3dbafeb5441a290b4bfdeeb38_226759b4e6" style="display: none;" tabindex="-1">
                    <button type="submit" class="btn-subscribe">Subscribe</button>
                </form>
            </div>

            <!-- YouTube Card -->
            <div class="stay-updated-card">
                <div>
                    <h3>‚ñ∂Ô∏è YouTube Channel</h3>
                    <p>Subscribe to my channel for regular tutorials & insights about SAP EWM.</p>
                </div>
                <a href="https://www.youtube.com/@sapewm?sub_confirmation=1" target="_blank" rel="noopener noreferrer" class="btn-youtube">Subscribe on YouTube</a>
            </div>
        </div>

        <div class="freelancer-cta">
            <p><strong>Need EWM expertise within your project?</strong><br>
            WMexperts.online is a knowledge-sharing project of Hendrik, a Senior SAP EWM Freelancer.</p>
            <a href="#" class="btn-freelance">Explore my Freelance Profile ‚Üí</a>
        </div>
    </article>

    <!-- ENHANCED LIGHTBOX OVERLAY -->
    <div id="lightbox">
        <span class="lightbox-close" id="lightbox-close">&times;</span>
        <span class="lightbox-prev" id="lightbox-prev">&#8249;</span>
        <span class="lightbox-next" id="lightbox-next">&#8250;</span>
        <div class="lightbox-content">
            <img id="lightbox-img" src="" alt="">
        </div>
        <div class="lightbox-counter" id="lightbox-counter"></div>
    </div>

    <footer>&copy; 2026 WMexperts.online ‚Ä¢ Functional & Technical SAP EWM Expertise</footer>

    <!-- ENHANCED LIGHTBOX JAVASCRIPT -->
    <script>
        (function() {
            const lightbox = document.getElementById('lightbox');
            const lightboxImg = document.getElementById('lightbox-img');
            const lightboxClose = document.getElementById('lightbox-close');
            const lightboxPrev = document.getElementById('lightbox-prev');
            const lightboxNext = document.getElementById('lightbox-next');
            const lightboxCounter = document.getElementById('lightbox-counter');
            
            // Get all images that should be zoomable
            const images = document.querySelectorAll('.screenshot-container img, .content img');
            let currentImageIndex = 0;

            // Add click event to all images
            images.forEach((img, index) => {
                img.addEventListener('click', function() {
                    openLightbox(index);
                });
            });

            function openLightbox(index) {
                currentImageIndex = index;
                lightboxImg.src = images[currentImageIndex].src;
                lightboxImg.alt = images[currentImageIndex].alt;
                lightbox.classList.add('active');
                document.body.classList.add('lightbox-open');
                updateCounter();
                
                // Show/hide navigation arrows based on number of images
                if (images.length <= 1) {
                    lightboxPrev.style.display = 'none';
                    lightboxNext.style.display = 'none';
                } else {
                    lightboxPrev.style.display = 'block';
                    lightboxNext.style.display = 'block';
                }
            }

            function closeLightbox() {
                lightbox.classList.remove('active');
                document.body.classList.remove('lightbox-open');
            }

            function showPrevImage() {
                currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;
                lightboxImg.src = images[currentImageIndex].src;
                lightboxImg.alt = images[currentImageIndex].alt;
                updateCounter();
            }

            function showNextImage() {
                currentImageIndex = (currentImageIndex + 1) % images.length;
                lightboxImg.src = images[currentImageIndex].src;
                lightboxImg.alt = images[currentImageIndex].alt;
                updateCounter();
            }

            function updateCounter() {
                if (images.length > 1) {
                    lightboxCounter.textContent = `${currentImageIndex + 1} / ${images.length}`;
                    lightboxCounter.style.display = 'block';
                } else {
                    lightboxCounter.style.display = 'none';
                }
            }

            // Event listeners
            lightboxClose.addEventListener('click', function(e) {
                e.stopPropagation();
                closeLightbox();
            });

            lightboxPrev.addEventListener('click', function(e) {
                e.stopPropagation();
                showPrevImage();
            });

            lightboxNext.addEventListener('click', function(e) {
                e.stopPropagation();
                showNextImage();
            });

            // Click on overlay background to close
            lightbox.addEventListener('click', function(e) {
                if (e.target === lightbox) {
                    closeLightbox();
                }
            });

            // Keyboard navigation
            document.addEventListener('keydown', function(e) {
                if (!lightbox.classList.contains('active')) return;
                
                if (e.key === 'Escape') {
                    closeLightbox();
                } else if (e.key === 'ArrowLeft') {
                    showPrevImage();
                } else if (e.key === 'ArrowRight') {
                    showNextImage();
                }
            });

            // Prevent image content click from closing lightbox
            lightboxImg.addEventListener('click', function(e) {
                e.stopPropagation();
            });
        })();
    </script>

</body>
</html>