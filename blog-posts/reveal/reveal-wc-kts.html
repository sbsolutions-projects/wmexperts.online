<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="In-depth article about SAP EWM. Learn technical and functional details about [Topic].">
    <meta name="keywords" content="SAP EWM, Warehouse Management, [Topic Keywords]">
    <meta name="author" content="Hendrik">
    <link rel="icon" type="image/png" href="../../assets/favicon/wmexperts%20favicon.png">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="article">
    <meta property="og:title" content="Article Title | WMexperts">
    <meta property="og:description" content="In-depth article about SAP EWM. Learn technical and functional details about [Topic].">
    <meta property="article:published_time" content="2020-06-08">
    <meta property="article:modified_time" content="2020-06-08">

    <!-- Structured Data -->
<script type="application/ld+json">
{
  "@context": "https://schema.org/",
  "@type": "BlogPosting",
  "headline": "Article Title",
  "description": "In-depth article about SAP EWM. Learn technical and functional details about [Topic].",
  "image": "../../assets/images/reveal/wc-det-kts/SAP EWM KTS work center determination_01.png",
  "datePublished": "2020-06-08T00:00:00Z",
  "dateModified": "2020-06-08T00:00:00Z",
  "author": {
    "@type": "Person",
    "name": "Hendrik"
  },
  "publisher": {
    "@type": "Organization",
    "name": "WMexperts",
    "logo": {
      "@type": "ImageObject",
      "url": "https://wmexperts.online/assets/favicon/favicon-32x32.png"
    }
  }
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://wmexperts.online/"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Reveal SAP EWM",
      "item": "https://wmexperts.online/blog-posts/reveal/"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "Article Title",
      "item": "https://wmexperts.online/blog-posts/reveal/reveal-wc-kts.html"
    }
  ]
}
</script>

    <title>Article Title | WMexperts</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="/assets/css/style.css">
</head>
<body>

    <header id="main-header"></header>

    <article>
        <div class="breadcrumb">Reveal SAP EWM</div>
        <h1>Work center determination in the context of Kit-to-stock (KTS)</h1>

        <div class="video-wrapper">
            <iframe src="https://www.youtube-nocookie.com/embed/08rltFEqgnw" title="YouTube video player" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>

        <div class="content">
            <p><strong>Note</strong>: The purpose of this series of blogs/videos is to discover &amp; reveal the secrets of SAP EWM work center. Thus, I will mainly be talking about functionalities which are not mentioned and explained in any of the SAP books available on the market.</p>
            <p>In this blog/video I will be talking about SAP Work center determination in the context of Kit-to-Stock (KTS). Note that I will not explain the KTS process as such. Might do this in a separate blog/video of the series Understand SAP EWM. For now, you can refer to the <a href="https://help.sap.com/doc/saphelp_sfin100/1.10/en-US/5f/61b6531de6b64ce10000000a174cb4/content.htm?no_cache=true" target="_blank" rel="noopener noreferrer">SAP online help</a>. </p>
            
            <strong>Where is the coding?</strong>
            <p>Technically the determination is done in class <code>/SCWM/CL_VAS_MODEL</code> method <code>DETERMINE_WORKCENTER</code>:</p>		
            <div class="screenshot-container">
                <img width="975" height="677" src="../../assets/images/reveal/wc-det-kts/SAP EWM KTS work center determination_01.png" alt="" loading="lazy" />
            </div>
            
            <strong>When will it be used?</strong>
            <p>From document-flow perspective the coding is relevant for example upon the activation of the inbound delivery for the finished goods in EWM. PPF action <code>/SCWM/PRD_IN_VAS_CREATE_KTS</code> should be scheduled &amp; executed which is responsible for the creation of a VAS order.</p>
            <p>The method <code>DETERMINE_WORKCENTER</code> is called from method <code>CREATE_ACTIVITIES</code> and updates the activity structure:</p>		
            <div class="screenshot-container">
                <img width="965" height="691" src="../../assets/images/reveal/wc-det-kts/SAP EWM KTS work center determination_02.png" alt="" loading="lazy" />
            </div>
            
            <p>In the first step, the EWM standard selects select destination storage type, section and bin from the given VAS step of the storage process (customizing process-oriented storage control):</p>		
            <div class="screenshot-container">
                <img width="975" height="242" src="../../assets/images/reveal/wc-det-kts/SAP EWM KTS work center determination_03.png" alt="" loading="lazy" />
            </div>
            <div class="screenshot-container">
                <img width="975" height="627" src="../../assets/images/reveal/wc-det-kts/SAP EWM KTS work center determination_04.png" alt="" loading="lazy" />
            </div>
            
            <p>Once done, the coding tries try to find a work center with the combination of the given storage type and bin in table <code>/SCWM/TWORKST</code> via function module <code>/SCWM/TWORKST_READ_BY_BIN</code>:</p>		
            <div class="screenshot-container">
                <img width="925" height="901" src="../../assets/images/reveal/wc-det-kts/SAP EWM KTS work center determination_05.png" alt="" loading="lazy" />
            </div>
            <div class="screenshot-container">
                <img width="946" height="494" src="../../assets/images/reveal/wc-det-kts/SAP EWM KTS work center determination_06.png" alt="" loading="lazy" />
            </div>
            
            <p>Note: The work center bin assignment (respectively the bin in table <code>/SCWM/TWORKST</code>) can be maintained via transaction <code>/SCWM/TWORKST</code>:</p>		
            <div class="screenshot-container">
                <img width="721" height="694" src="../../assets/images/reveal/wc-det-kts/SAP EWM KTS work center determination_07.png" alt="" loading="lazy" />
            </div>
            <div class="screenshot-container">
                <img width="844" height="304" src="../../assets/images/reveal/wc-det-kts/SAP EWM KTS work center determination_08.png" alt="" loading="lazy" />
            </div>
            
            <p>If the WC determination via the storage bin is not successful (~ bin from POSC step is not maintained in any of the work centers), we take the storage section of this bin<br />• Try to find a work center from table <code>/SCWM/TWORKST</code> with the same section as inbound section. If this is still not successful,<br />• We try to find a work center from customizing table <code>/SCWM/TWORKST</code> with the same section as outbound section<br />Check the following screenshots for the detailed flow:</p>		
            <div class="screenshot-container">
                <img width="934" height="878" src="../../assets/images/reveal/wc-det-kts/SAP EWM KTS work center determination_09.png" alt="" loading="lazy" />
            </div>
            
            <p>If this is still not successful (~ we might be in a situation where the external step of the POSC does only have destination type and section, but no destination bin), EWM tries to find a work center based on the combination of destination type &amp; section from the external POSC step:</p>		
            <div class="screenshot-container">
                <img width="916" height="848" src="../../assets/images/reveal/wc-det-kts/SAP EWM KTS work center determination_10.png" alt="" loading="lazy" />
            </div>
            
            <p>1st try with the section from the step as inbound section, then outbound section (not applicable in this context as not imported to the FM at all) and last but not least, with the storage type only:</p>		
            <div class="screenshot-container">
                <img width="975" height="889" src="../../assets/images/reveal/wc-det-kts/SAP EWM KTS work center determination_10_2.png" alt="" loading="lazy" />
            </div>
            
            <p>Note: Inbound and outbound sections for work centers can be maintained via customizing:</p>		
            <div class="screenshot-container">
                <img width="646" height="601" src="../../assets/images/reveal/wc-det-kts/SAP EWM KTS work center determination_11.png" alt="" loading="lazy" />
            </div>
            <div class="screenshot-container">
                <img width="625" height="531" src="../../assets/images/reveal/wc-det-kts/SAP EWM KTS work center determination_12.png" alt="" loading="lazy" />
            </div>
            
            <p>If we also do not find a work center based on the ‘section approach’, EWM raises an exception and throws an error message.<br />Interesting fact: If we find multiple work centers based on the logic explained above (that could happen in case bin from the POSC step does not point to a specific one and we find multiple WCs with the same section), the first one is the winner (EWM just takes the first one from the internal table):</p>		
            <div class="screenshot-container">
                <img width="938" height="508" src="../../assets/images/reveal/wc-det-kts/SAP EWM KTS work center determination_13.png" alt="" loading="lazy" />
            </div>
            
            <p>If we could finally find a work center, we update the activity structure at the end of the method and handover to method <code>CREATE_ACTIVITIES</code> again</p>		
            <div class="screenshot-container">
                <img width="975" height="650" src="../../assets/images/reveal/wc-det-kts/SAP EWM KTS work center determination_14.png" alt="" loading="lazy" />
            </div>
            
            <p style="text-align: center;">Note: In case this approach to determine the work center (1.Step: Bin, 2.Step: Section) does not fulfill your project requirements, you can implement Badi <code>/SCWM/EX_VAS_CREATE_ACTIVITIES</code> in order to adjust/overwrite the activity table (this table which is also carrying the work center). The Badi is called at the end of method <code>CREATE_ACTIVITIES</code>:</p>		
            <div class="screenshot-container">
                <img width="950" height="523" src="../../assets/images/reveal/wc-det-kts/SAP EWM KTS work center determination_15.png" alt="" loading="lazy" />
            </div>
            <div class="screenshot-container">
                <img width="855" height="336" src="../../assets/images/reveal/wc-det-kts/SAP EWM KTS work center determination_16.png" alt="" loading="lazy" />
            </div>
            <div class="screenshot-container">
                <img width="975" height="634" src="../../assets/images/reveal/wc-det-kts/SAP EWM KTS work center determination_17.png" alt="" loading="lazy" />
            </div>
            <div class="screenshot-container">
                <img width="975" height="229" src="../../assets/images/reveal/wc-det-kts/SAP EWM KTS work center determination_18.png" alt="" loading="lazy" />
            </div>
            
            <p style="text-align: left;"><strong>Summary</strong><br />• The external step in POSC customizing needs to have the work center storage type / bin (or at least the storage section) as destination<br />• If the WC should be determined based on the bin, the same bin needs to be assigned to the work center in <code>/SCWM/TWORKST</code><br />• If this logic is not sufficient, implement Badi <code>/SCWM/EX_VAS_CREATE_ACTIVITIES</code></p>		
        </div>

        <!-- STAY UPDATED SECTION -->
        <div class="stay-updated">
            <!-- Newsletter Card -->
            <div class="stay-updated-card">
                <div>
                    <h3>📧 Newsletter</h3>
                    <p>Get updates about new blog posts directly in your inbox.</p>
                </div>
                <form action="https://online.us17.list-manage.com/subscribe/post?u=3dbafeb5441a290b4bfdeeb38&id=226759b4e6&f_id=00e24be0f0" method="post" class="newsletter-form" target="_blank" rel="noopener noreferrer">
                    <input type="email" name="EMAIL" placeholder="Your email" required>
                    <input type="text" name="FNAME" placeholder="First name">
                    <input type="text" name="LNAME" placeholder="Last name">
                    <input type="text" name="b_3dbafeb5441a290b4bfdeeb38_226759b4e6" style="display: none;" tabindex="-1">
                    <button type="submit" class="btn-subscribe">Subscribe</button>
                </form>
            </div>

            <!-- YouTube Card -->
            <div class="stay-updated-card">
                <div>
                    <h3>▶️ YouTube Channel</h3>
                    <p>Subscribe to my channel for regular tutorials & insights about SAP EWM.</p>
                </div>
                <a href="https://www.youtube.com/@sapewm?sub_confirmation=1" target="_blank" rel="noopener noreferrer" class="btn-youtube" >Subscribe on YouTube</a>
            </div>
        </div>

        <!-- FREELANCER CTA (Commented out - to be launched later)
        <section class="freelancer-cta" aria-labelledby="cta-heading">
            <h2 id="cta-heading">Need Support around SAP EWM?</h2>
            <p>WMexperts.online is the knowledge hub of Hendrik, a Senior SAP EWM Consultant with expertise in functional design, technical implementation, and project leadership.</p>
            <a href="#" class="btn-primary">Explore My Offerings →</a>
        </section>
        -->
    </article>

    <!-- ENHANCED LIGHTBOX OVERLAY -->
    <div id="lightbox">
        <span class="lightbox-close" id="lightbox-close">&times;</span>
        <span class="lightbox-prev" id="lightbox-prev">&#8249;</span>
        <span class="lightbox-next" id="lightbox-next">&#8250;</span>
        <div class="lightbox-content">
            <img id="lightbox-img" src="" alt="">
        </div>
        <div class="lightbox-counter" id="lightbox-counter"></div>
    </div>

    <footer id="main-footer"></footer>

    <!-- ENHANCED LIGHTBOX JAVASCRIPT -->
    <script>
        (function() {
            const lightbox = document.getElementById('lightbox');
            const lightboxImg = document.getElementById('lightbox-img');
            const lightboxClose = document.getElementById('lightbox-close');
            const lightboxPrev = document.getElementById('lightbox-prev');
            const lightboxNext = document.getElementById('lightbox-next');
            const lightboxCounter = document.getElementById('lightbox-counter');
            
            // Get all images that should be zoomable
            const images = document.querySelectorAll('.screenshot-container img, .content img');
            let currentImageIndex = 0;

            // Add click event to all images
            images.forEach((img, index) => {
                img.addEventListener('click', function() {
                    openLightbox(index);
                });
            });

            function openLightbox(index) {
                currentImageIndex = index;
                lightboxImg.src = images[currentImageIndex].src;
                lightboxImg.alt = images[currentImageIndex].alt;
                lightbox.classList.add('active');
                document.body.classList.add('lightbox-open');
                updateCounter();
                
                // Show/hide navigation arrows based on number of images
                if (images.length <= 1) {
                    lightboxPrev.style.display = 'none';
                    lightboxNext.style.display = 'none';
                } else {
                    lightboxPrev.style.display = 'block';
                    lightboxNext.style.display = 'block';
                }
            }

            function closeLightbox() {
                lightbox.classList.remove('active');
                document.body.classList.remove('lightbox-open');
            }

            function showPrevImage() {
                currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;
                lightboxImg.src = images[currentImageIndex].src;
                lightboxImg.alt = images[currentImageIndex].alt;
                updateCounter();
            }

            function showNextImage() {
                currentImageIndex = (currentImageIndex + 1) % images.length;
                lightboxImg.src = images[currentImageIndex].src;
                lightboxImg.alt = images[currentImageIndex].alt;
                updateCounter();
            }

            function updateCounter() {
                if (images.length > 1) {
                    lightboxCounter.textContent = `${currentImageIndex + 1} / ${images.length}`;
                    lightboxCounter.style.display = 'block';
                } else {
                    lightboxCounter.style.display = 'none';
                }
            }

            // Event listeners
            lightboxClose.addEventListener('click', function(e) {
                e.stopPropagation();
                closeLightbox();
            });

            lightboxPrev.addEventListener('click', function(e) {
                e.stopPropagation();
                showPrevImage();
            });

            lightboxNext.addEventListener('click', function(e) {
                e.stopPropagation();
                showNextImage();
            });

            // Click on overlay background to close
            lightbox.addEventListener('click', function(e) {
                if (e.target === lightbox) {
                    closeLightbox();
                }
            });

            // Keyboard navigation
            document.addEventListener('keydown', function(e) {
                if (!lightbox.classList.contains('active')) return;
                
                if (e.key === 'Escape') {
                    closeLightbox();
                } else if (e.key === 'ArrowLeft') {
                    showPrevImage();
                } else if (e.key === 'ArrowRight') {
                    showNextImage();
                }
            });

            // Prevent image content click from closing lightbox
            lightboxImg.addEventListener('click', function(e) {
                e.stopPropagation();
            });
        })();
    </script>

    <script>
    // Load global components
    fetch('/header-content.html').then(res => res.text()).then(html => document.getElementById('main-header').innerHTML = html);
    fetch('/footer-content.html').then(res => res.text()).then(html => document.getElementById('main-footer').innerHTML = html);
    </script>

</body>
</html>







