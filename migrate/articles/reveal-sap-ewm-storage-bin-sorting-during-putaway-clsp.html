<h1>Reveal SAP EWM</h1><h2>Storage bin sorting during putaway (CLSP)</h2><p>This blog is supposed to clear up one of the biggest misconceptions in the context of bin determination during putaway task creation in SAP EWM.</p><p>Before we jump into the system, let us quickly make sure to understand the scenario from material flow / process perspective –<br>Imagine you want to putaway a handling unit – let us assume a pallet loaded with some cartons – into a pallet rack. You have defined a strategy to determine an empty bin. All bins have the same bin type. So far so good. However, there might be lots of empty bins in the given rack. So how should EWM now decide which bin to suggest for the putaway process?</p>		
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_01.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAxMDcsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMDEucG5nIn0%3D">
							<img width="1024" height="617" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_01-1024x617.png" alt="SAP EWM storage bin sorting CLSP_01" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_01-1024x617.png 1024w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_01-300x181.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_01-768x462.png 768w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_01.png 1136w" sizes="(max-width: 1024px) 100vw, 1024px" />								</a>
		<p>At this point, the bin sorting comes into the game!</p><p>I will explain the topic for you based on the following <strong><u>agenda</u></strong>:</p><ul><li>The standard logic</li><li>The configuration</li><li>The bin sorting</li><li>The coding</li><li>Options for enhancement</li></ul><p>As a starting point it is important to understand that whenever EWM is sorting something based on storage bins (e.g. warehouse tasks within warehouse orders, bins during putaway etc.) it is using so called ‘sort sequence numbers’. Those numbers are assigned to storage bins. EWM never uses those sequence numbers alone. It usually uses a combination of a sequence number along with an activity area and an activity type. Different combinations of activities, activity areas and sequence numbers can be attached to storage bins. Either based on the execution of a report (which is reading the sorting logic from the customizing) or based on an excel upload file.</p>		
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_02.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAxMDgsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMDIucG5nIn0%3D">
							<img width="1024" height="547" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_02-1024x547.png" alt="SAP EWM storage bin sorting CLSP_02" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_02-1024x547.png 1024w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_02-300x160.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_02-768x410.png 768w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_02.png 1073w" sizes="(max-width: 1024px) 100vw, 1024px" />								</a>
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_03.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAwNzMsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMDMucG5nIn0%3D">
							<img width="837" height="789" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_03.png" alt="SAP EWM storage bin sorting CLSP_03" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_03.png 837w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_03-300x283.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_03-768x724.png 768w" sizes="(max-width: 837px) 100vw, 837px" />								</a>
		The result with both options is saved in table /SCWM/LAGPS. I highlighted the important fields within the screenshot below:The following activities can be used to attach a sort sequence number to a storage bin in EWM standard:		
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_05.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAwNzUsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMDUucG5nIn0%3D">
							<img width="1024" height="433" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_05-1024x433.png" alt="SAP EWM storage bin sorting CLSP_05" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_05-1024x433.png 1024w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_05-300x127.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_05-768x325.png 768w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_05.png 1311w" sizes="(max-width: 1024px) 100vw, 1024px" />								</a>
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_04.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAwNzQsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMDQucG5nIn0%3D">
							<img width="1024" height="513" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_04-1024x513.png" alt="SAP EWM storage bin sorting CLSP_04" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_04-1024x513.png 1024w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_04-300x150.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_04-768x385.png 768w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_04.png 1397w" sizes="(max-width: 1024px) 100vw, 1024px" />								</a>
		Based on this it seems to be obvious to sort bins based on the activity type ‘PTWY – Putaway’ in order to sort bins for the putaway process scenario described at the beginning of this post. Far from it!
The sequence numbers assigned to the bins for activity type ‘PTWY’ is only used for the sorting of putaway warehouse tasks within warehouse orders (e.g. for travel path optimization in case you assign multiple warehouse tasks for putaway to one warehouse order). It is not used to sort bins during the actual determination of the destination bin. EWM indeed uses the sequence number for this activity type during putaway task creation but only after the destination bin has already been determined (we will come back to this point later again!).  
So if it is not the activity type PTWY, what else is being used in order to sort the bins during the destination bin determination for our example above? The answer to this question is the assignment of the combination of sort sequence numbers, activity area and the activity type ‘CLSP – Cross-Line Stock Putaway’ to the given bins. 
		<p><strong><u>The configuration</u></strong></p><p>The creation of the activity area and its sorting can be done here:</p><ul><li>Define an activity area via SPRO: <em>SCWM Extended Warehouse Management -&gt; Extended Warehouse Management -&gt; Master Data -&gt; Activities Areas -&gt; Define Activity Areas</em></li><li>Then assign this Activity Area to storage type. Path in SPRO: <em>SCWM Extended Warehouse Management -&gt; Extended Warehouse Management -&gt; Master Data -&gt; Activities Areas -&gt; Assign Storage Bins to Activity Areas</em></li><li>Then define sort sequence for CLSP Activity. Path in SPRO: <em>SCWM Extended Warehouse Management -&gt; Extended Warehouse Management -&gt; Master Data -&gt; Activities Areas -&gt; Define Sort Sequence for Cross-Line Stock Putaway</em></li></ul>		
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_06.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAwNzYsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMDYucG5nIn0%3D">
							<img width="1024" height="559" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_06-1024x559.png" alt="SAP EWM storage bin sorting CLSP_06" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_06-1024x559.png 1024w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_06-300x164.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_06-768x420.png 768w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_06.png 1373w" sizes="(max-width: 1024px) 100vw, 1024px" />								</a>
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_07.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAwNzcsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMDcucG5nIn0%3D">
							<img width="1024" height="275" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_07-1024x275.png" alt="SAP EWM storage bin sorting CLSP_07" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_07-1024x275.png 1024w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_07-300x80.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_07-768x206.png 768w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_07.png 1372w" sizes="(max-width: 1024px) 100vw, 1024px" />								</a>
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_08.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAwNzgsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMDgucG5nIn0%3D">
							<img width="1024" height="320" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_08-1024x320.png" alt="SAP EWM storage bin sorting CLSP_08" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_08-1024x320.png 1024w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_08-300x94.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_08-768x240.png 768w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_08.png 1380w" sizes="(max-width: 1024px) 100vw, 1024px" />								</a>
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_09.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAwNzksInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMDkucG5nIn0%3D">
							<img width="1024" height="117" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_09-1024x117.png" alt="SAP EWM storage bin sorting CLSP_09" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_09-1024x117.png 1024w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_09-300x34.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_09-768x88.png 768w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_09.png 1398w" sizes="(max-width: 1024px) 100vw, 1024px" />								</a>
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_10.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAwODAsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMTAucG5nIn0%3D">
							<img width="732" height="437" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_10.png" alt="SAP EWM storage bin sorting CLSP_10" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_10.png 732w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_10-300x179.png 300w" sizes="(max-width: 732px) 100vw, 732px" />								</a>
		Here you can now provide a logic for the assignment of the sequence numbers for sorting. For aisle, stack, level and subdivision you can decide whether you want to sort ascending or descending as well as whether you want to alternate or not. 
An example for the sort sequence between the 3 parameters is visualized in the screenshot below. Here I sorted 1st based on the stack and 2nd based on the level. You can see that EWM will first assign sequence numbers to all stacks of a given level before it proceeds with all stacks for the next level. This screenshot also shows how the ‘alternating’ approach is supposed to work. You can see that EWM counts the stack up until the max value and then decreases again from there for the next level. When you set this to ‘not alternating’ it would start again from the lowest stack value:
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_11.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAwODEsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMTEucG5nIn0%3D">
							<img width="847" height="788" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_11.png" alt="SAP EWM storage bin sorting CLSP_11" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_11.png 847w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_11-300x279.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_11-768x715.png 768w" sizes="(max-width: 847px) 100vw, 847px" />								</a>
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_12.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAwODIsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMTIucG5nIn0%3D">
							<img width="871" height="858" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_12.png" alt="SAP EWM storage bin sorting CLSP_12" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_12.png 871w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_12-300x296.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_12-768x757.png 768w" sizes="(max-width: 871px) 100vw, 871px" />								</a>
		Here another example where I sorted 1st based on the level and 2nd based on the stack:		
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_13.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAwODMsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMTMucG5nIn0%3D">
							<img width="818" height="753" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_13.png" alt="SAP EWM storage bin sorting CLSP_13" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_13.png 818w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_13-300x276.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_13-768x707.png 768w" sizes="(max-width: 818px) 100vw, 818px" />								</a>
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_14.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAwODQsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMTQucG5nIn0%3D">
							<img width="831" height="820" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_14.png" alt="SAP EWM storage bin sorting CLSP_14" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_14.png 831w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_14-300x296.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_14-768x758.png 768w" sizes="(max-width: 831px) 100vw, 831px" />								</a>
		For all activities other than CLSP, EWM is sorting the aisles one-by-one. Only for CLSP it always sorts based on the aisle first. Another example to help you understand this approach along with the options for alternating:		
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_15.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAwODUsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMTUucG5nIn0%3D">
							<img width="1024" height="571" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_15-1024x571.png" alt="SAP EWM storage bin sorting CLSP_15" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_15-1024x571.png 1024w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_15-300x167.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_15-768x429.png 768w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_15-1536x857.png 1536w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_15.png 1543w" sizes="(max-width: 1024px) 100vw, 1024px" />								</a>
		<u>Note</u>: If you leave all other fields blank, the system simply sorts in ascending order based on the storage bin names.
In addition to this, you have a parameter to fix the sorting. You can use this checkbox to ensure that the sorting is not changed during picking with radio frequency (RF). If you select this checkbox, it is not possible for the operator to change the path sequence during picking.
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_16.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAwODYsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMTYucG5nIn0%3D">
							<img width="1024" height="145" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_16-1024x145.png" alt="SAP EWM storage bin sorting CLSP_16" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_16-1024x145.png 1024w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_16-300x42.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_16-768x108.png 768w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_16-1536x217.png 1536w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_16.png 1544w" sizes="(max-width: 1024px) 100vw, 1024px" />								</a>
		And that is it for this post! Pretty sure most of you are already using one or the other tool that I presented here. I hope that some of you still found something new here that helps you during your daily tasks in the future!<p><strong><u>The bin sorting</u></strong></p><p>Once the customizing is completed as shown above, the bins have to be sorted via transaction /SCWM/SBST:</p>		
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_17.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAwODcsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMTcucG5nIn0%3D">
							<img width="1024" height="343" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_17-1024x343.png" alt="SAP EWM storage bin sorting CLSP_17" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_17-1024x343.png 1024w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_17-300x101.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_17-768x257.png 768w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_17.png 1408w" sizes="(max-width: 1024px) 100vw, 1024px" />								</a>
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_18.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAwODgsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMTgucG5nIn0%3D">
							<img width="1024" height="357" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_18-1024x357.png" alt="SAP EWM storage bin sorting CLSP_18" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_18-1024x357.png 1024w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_18-300x105.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_18-768x268.png 768w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_18-1536x536.png 1536w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_18.png 1557w" sizes="(max-width: 1024px) 100vw, 1024px" />								</a>
		Once the sorting has been executed, the sequence numbers are saved in table /SCWM/LAGPS as well as /SCWM/LAGP. This is also different compared to other activities where the sorting is only saved in the LAGPS table. Could not find the reason why we have it in two tables honestly. Maybe anyone has a good idea!?		
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_19.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAwODksInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMTkucG5nIn0%3D">
							<img width="1024" height="427" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_19-1024x427.png" alt="SAP EWM storage bin sorting CLSP_19" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_19-1024x427.png 1024w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_19-300x125.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_19-768x320.png 768w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_19-1536x641.png 1536w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_19.png 1553w" sizes="(max-width: 1024px) 100vw, 1024px" />								</a>
		<p><strong><u>The coding</u></strong></p>It is interesting to observe that the although activity CLSP is not given as activity type in the customizing of the warehouse process type, it is still used for the sorting in our scenario:		
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_20.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAwOTAsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMjAucG5nIn0%3D">
							<img width="1024" height="586" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_20-1024x586.png" alt="SAP EWM storage bin sorting CLSP_20" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_20-1024x586.png 1024w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_20-300x172.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_20-768x439.png 768w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_20.png 1532w" sizes="(max-width: 1024px) 100vw, 1024px" />								</a>
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_21.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAwOTEsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMjEucG5nIn0%3D">
							<img width="1024" height="513" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_21-1024x513.png" alt="SAP EWM storage bin sorting CLSP_21" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_21-1024x513.png 1024w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_21-300x150.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_21-768x385.png 768w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_21-1536x770.png 1536w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_21.png 1570w" sizes="(max-width: 1024px) 100vw, 1024px" />								</a>
		Seems SAP noticed at some point that the WPT parameter is required for the activity which is used for the sorting within the WO (mentioned at the beginning of this post) and thus, needed a different approach to determine the sequence for the bin selection. 
For non-MFS storage types the sorting is done in include /SCWM/LPUT_BIN_DETF77, subroutine SORT_EMPTY_BINS, right after a list of possible destination bins had been determined via the subroutines BIN_DETERMINATION_1 & *2 in include /SCWM/LPUT_BIN_DETF17/ /SCWM/LPUT_BIN_DETF26. This is at least true for the empty bin determination. I have to admit that I did not spend time on analyzing the exact spot for addition to stock. However, I am pretty sure the function module which is finally used for the actual sorting is the same for both cases (so if you want to debug your specific strategy, just put a breakpoint into this one): /SCWM/ACT_AREA_EVALUATE
The FM imports the table of unsorted bins, reads the bin sorting against the imported activity type from the tables listed at the beginning of this article and exports a table with the same bins sorted accordingly:		
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_22.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAwOTIsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMjIucG5nIn0%3D">
							<img width="1024" height="696" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_22-1024x696.png" alt="SAP EWM storage bin sorting CLSP_22" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_22-1024x696.png 1024w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_22-300x204.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_22-768x522.png 768w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_22.png 1294w" sizes="(max-width: 1024px) 100vw, 1024px" />								</a>
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_23.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAwOTMsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMjMucG5nIn0%3D">
							<img width="1024" height="646" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_23-1024x646.png" alt="SAP EWM storage bin sorting CLSP_23" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_23-1024x646.png 1024w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_23-300x189.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_23-768x484.png 768w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_23.png 1326w" sizes="(max-width: 1024px) 100vw, 1024px" />								</a>
		…to be honest – I do not understand why the standard is coded like this. In line 26 it uses a constant to set the activity for our context. Then it fills lt_lgpla_unsorted from imported table IT_ILAGPL just to sort lt_lgpla_unsorted within the FM /SCWM/ACT_AREA_EVALUATE based on activity CLSP. However, the internal table that was imported to our subroutine here already had the field CLSP_SORT:		
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_24.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAwOTQsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMjQucG5nIn0%3D">
							<img width="1024" height="391" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_24-1024x391.png" alt="SAP EWM storage bin sorting CLSP_24" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_24-1024x391.png 1024w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_24-300x114.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_24-768x293.png 768w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_24-1536x586.png 1536w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_24.png 1796w" sizes="(max-width: 1024px) 100vw, 1024px" />								</a>
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_25.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAwOTUsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMjUucG5nIn0%3D">
							<img width="1024" height="771" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_25-1024x771.png" alt="SAP EWM storage bin sorting CLSP_25" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_25-1024x771.png 1024w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_25-300x226.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_25-768x578.png 768w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_25.png 1104w" sizes="(max-width: 1024px) 100vw, 1024px" />								</a>
		So why not just sort table IT_ILAGPL based on this field in line 32 ff. and return from the subroutine instead of calling FM /SCWM/ACT_AREA_EVALUATE?
A big beer on my bill for anyone who can explain to me why this would not work!
The logic for MFS storage types is less complex. Method /SCWM/CL_CORE_PUTSTRA-DET_EMPTY_BIN sorts the internal table of bins. As mentioned above, the field CLSP_SORT already exists in the LAGP table and here EWM does what I suggested above. The sequence number is read along with the bin and so does not have to be re-determined with an additional FM:
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_26.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAwOTYsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMjYucG5nIn0%3D">
							<img width="1024" height="496" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_26-1024x496.png" alt="SAP EWM storage bin sorting CLSP_26" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_26-1024x496.png 1024w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_26-300x145.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_26-768x372.png 768w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_26-1536x744.png 1536w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_26.png 1587w" sizes="(max-width: 1024px) 100vw, 1024px" />								</a>
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_27.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAwOTcsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMjcucG5nIn0%3D">
							<img width="1024" height="243" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_27-1024x243.png" alt="SAP EWM storage bin sorting CLSP_27" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_27-1024x243.png 1024w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_27-300x71.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_27-768x182.png 768w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_27-1536x365.png 1536w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_27.png 1622w" sizes="(max-width: 1024px) 100vw, 1024px" />								</a>
		Now that we understood how the sorting during bin determination works based on the CLSP sequence, let us have a quick look at the technical details about the logic to sort WTs within WOs based on the PTWY sequence.
Once the destination bin for a given WT has been determined (like described above), EWM fills the field PATHSEQ in the /SCWM/ORDIM_O table.
It determines the sequence number based on the activity of the WPT (which is ‘PTWY’ for putaway processes):		
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_28.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAwOTgsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMjgucG5nIn0%3D">
							<img width="1024" height="251" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_28-1024x251.png" alt="SAP EWM storage bin sorting CLSP_28" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_28-1024x251.png 1024w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_28-300x74.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_28-768x188.png 768w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_28-1536x377.png 1536w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_28.png 1634w" sizes="(max-width: 1024px) 100vw, 1024px" />								</a>
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_29.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAwOTksInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMjkucG5nIn0%3D">
							<img width="1024" height="547" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_29-1024x547.png" alt="SAP EWM storage bin sorting CLSP_29" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_29-1024x547.png 1024w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_29-300x160.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_29-768x410.png 768w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_29-1536x820.png 1536w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_29.png 1628w" sizes="(max-width: 1024px) 100vw, 1024px" />								</a>
		The determination of the sequence number is done via FM /SCWM/LAGPS_READ_SINGLE, called from /SCWM/TO_ACT_AREA_DET --> /SCWM/ACT_AREA_EVALUATE:The sorting in the context of warehouse order creation is done in include /SCWM/LWHO_MAINF03, subroutine who_to_sort. EWM is considering the PATHSEQ field by default in case you do not specify a sort rule. However, you can also consider this field along with a list of other sort criteria within your customized sort sequence:		
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_30.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAxMDAsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMzAucG5nIn0%3D">
							<img width="1024" height="697" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_30-1024x697.png" alt="SAP EWM storage bin sorting CLSP_30" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_30-1024x697.png 1024w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_30-300x204.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_30-768x523.png 768w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_30.png 1314w" sizes="(max-width: 1024px) 100vw, 1024px" />								</a>
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_31.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAxMDEsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMzEucG5nIn0%3D">
							<img width="1024" height="734" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_31-1024x734.png" alt="SAP EWM storage bin sorting CLSP_31" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_31-1024x734.png 1024w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_31-300x215.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_31-768x550.png 768w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_31.png 1091w" sizes="(max-width: 1024px) 100vw, 1024px" />								</a>
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_32.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAxMDIsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMzIucG5nIn0%3D">
							<img width="1024" height="270" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_32-1024x270.png" alt="SAP EWM storage bin sorting CLSP_32" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_32-1024x270.png 1024w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_32-300x79.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_32-768x202.png 768w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_32.png 1333w" sizes="(max-width: 1024px) 100vw, 1024px" />								</a>
		This sorting is not mandatory though. You could also create such warehouse orders without having any PTWY sorting in place.
The following flow-chart should visualize and summarize what we’ve learned so far:
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_33.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAxMDMsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMzMucG5nIn0%3D">
							<img width="1024" height="448" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_33-1024x448.png" alt="SAP EWM storage bin sorting CLSP_33" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_33-1024x448.png 1024w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_33-300x131.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_33-768x336.png 768w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_33-1536x672.png 1536w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_33.png 1573w" sizes="(max-width: 1024px) 100vw, 1024px" />								</a>
		<p><strong><u>Options for enhancements</u></strong></p><p>As you know it from my previous blog posts, I use to give you some options to enhance the standard logic. This section is limited to the sorting of bins during the determination of the destination. Enhancements of the sorting within the WOs is not in scope here. You can look into this blog post in case you want to learn more about enhancing the WOCRs.</p><p>Badi /SCWM/EX_CORE_PTS_FILT_SORT is one that will work here for sure, as the name already suggests:</p>		
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_34.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAxMDQsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMzQucG5nIn0%3D">
							<img width="1024" height="530" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_34-1024x530.png" alt="SAP EWM storage bin sorting CLSP_34" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_34-1024x530.png 1024w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_34-300x155.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_34-768x397.png 768w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_34.png 1517w" sizes="(max-width: 1024px) 100vw, 1024px" />								</a>
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_35.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAxMDUsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMzUucG5nIn0%3D">
							<img width="1024" height="615" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_35-1024x615.png" alt="SAP EWM storage bin sorting CLSP_35" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_35-1024x615.png 1024w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_35-300x180.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_35-768x462.png 768w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_35.png 1456w" sizes="(max-width: 1024px) 100vw, 1024px" />								</a>
		It is called right after EWM has determined a list of possible destination bins for a given WT and saved those in an internal table (as mentioned above, this is done in include /SCWM/LPUT_BIN_DETF77, subroutine SORT_EMPTY_BINS):The interface allows to change the sorting within this table of possible destination tasks:		
																<a href="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_36.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MjAxMDYsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wMVwvU0FQLUVXTS1zdG9yYWdlLWJpbi1zb3J0aW5nLUNMU1BfMzYucG5nIn0%3D">
							<img width="1024" height="369" src="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_36-1024x369.png" alt="SAP EWM storage bin sorting CLSP_36" srcset="https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_36-1024x369.png 1024w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_36-300x108.png 300w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_36-768x277.png 768w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_36-1536x554.png 1536w, https://wmexperts.online/wp-content/uploads/2025/01/SAP-EWM-storage-bin-sorting-CLSP_36.png 1873w" sizes="(max-width: 1024px) 100vw, 1024px" />								</a>
		<p>EWM delivers a sample implementation which might give you some good ideas about how to implement a custom sorting here (class /SCWM/CL_EI_CORE_PTS_FILT_SORT).</p><p><strong><u>Final thoughts &amp; remarks</u></strong></p><ul><li>The sort sequence number for CLSP is only relevant in case multiple bins are available with the same characteristics related to your putaway strategy. EWM first determines optimal bins e.g. based on the bin type and/or the storage section. Only if multiple valid bins exist with the optimal combination, the sequence numbers for CLSP sorting are applied</li><li>You might have noticed that if you do not create the activity area and the sorting for the CLSP activity at all, you will still get a destination bin during putaway task creation. In this case, EWM will simply sort the bins by their names.</li><li>Seems SAP also noticed that the topic is quite confusing. They released note 2992048 but you do not need to read that once you’ve read and understand this blog post :-)</li></ul><p>…and here we are again at the end of the article. The intention of this blog post was to shed some light and help you to avoid confusion around this topic. Hope I could provide some value for one or the other!</p>		
		<em> Please feel free to s</em><em>ubscribe to my <strong><a href="https://wmexperts.online/blog-newsletter/" target="_blank" rel="noopener">blog updates </a></strong>or my <strong><a href="https://www.youtube.com/channel/UCRcn9mXPIJ58JVTeU0oKrFg?sub_confirmation=1">youtube channel </a></strong>in case you want to be notified about new posts!</em>		
					<h2>Get my monthly blog-updates!</h2>				
					<h2>Subscribe to my Youtube channel!</h2>				
					<a href="https://www.youtube.com/channel/UCRcn9mXPIJ58JVTeU0oKrFg?sub_confirmation=1" target="_blank">
									Subscribe
					</a><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="In-depth article about SAP EWM. Learn technical and functional details about [Topic].">
    <meta name="keywords" content="SAP EWM, Warehouse Management, [Topic Keywords]">
    <meta name="author" content="Hendrik">
    <link rel="icon" type="image/png" href="/assets/favicon/wmexperts%20favicon.png">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="article">
    <meta property="og:title" content="Article Title | WMexperts">
    <meta property="og:description" content="In-depth article about SAP EWM. Learn technical and functional details about [Topic].">
    <meta property="article:published_time" content="2024-01-01">
    <meta property="article:modified_time" content="2024-01-01">

    <!-- Structured Data -->
    <script type="application/ld+json">
    [
      {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "headline": "Article Title",
        "description": "In-depth article about SAP EWM. Learn technical and functional details about [Topic].",
        "image": "https://wmexperts.online/assets/images/placeholder.png",
        "datePublished": "2024-01-01",
        "dateModified": "2024-01-01",
        "author": {
          "@type": "Person",
          "name": "Hendrik"
        },
        "publisher": {
          "@type": "Organization",
          "name": "WMexperts",
          "logo": {
            "@type": "ImageObject",
            "url": "https://wmexperts.online/assets/logo.png"
          }
        }
      },
      {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [{
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https://wmexperts.online/"
        },{
          "@type": "ListItem",
          "position": 2,
          "name": "Blog",
          "item": "https://wmexperts.online/blog-posts/category/article-slug.html"
        }]
      }
    ]
    </script>

    <title>Article Title | WMexperts</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --sap-blue: #005597;
            --bg-light: #F9FAFB;
            --text-dark: #111827;
            --text-muted: #4B5563;
            --border: #E5E7EB;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #ffffff;
            color: var(--text-muted);
            margin: 0;
            line-height: 1.8;
        }

        /* --- NAVIGATION --- */
        header {
            background: #fff;
            padding: 1rem 10%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo { font-weight: 600; font-size: 1.4rem; color: var(--text-dark); text-decoration: none; }
        .logo span { color: var(--sap-blue); }
        nav a { text-decoration: none; color: var(--text-muted); font-size: 0.9rem; font-weight: 600; }

        /* --- ARTICLE STRUCTURE --- */
        article { max-width: 800px; margin: 4rem auto; padding: 0 20px; }

        .breadcrumb {
            font-size: 0.75rem;
            color: var(--sap-blue);
            text-transform: uppercase;
            font-weight: 600;
            letter-spacing: 1px;
            margin-bottom: 1rem;
        }

        h1 { font-size: 2.8rem; color: var(--text-dark); line-height: 1.2; margin-bottom: 1.5rem; letter-spacing: -1px; }

        /* --- RESPONSIVE VIDEO CONTAINER --- */
        .video-wrapper {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
            height: 0;
            overflow: hidden;
            margin: 2.5rem 0;
            border-radius: 12px;
            background: #000;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .video-wrapper iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
        }

        .content p { margin-bottom: 0.75rem; font-size: 1.1rem; }
        .content h2 { color: var(--text-dark); margin-top: 1.75rem; font-size: 1.8rem; border-bottom: 2px solid var(--bg-light); padding-bottom: 0.5rem; }
        .content ul { padding-left: 1.5rem; margin-bottom: 2rem; }
        .content li { margin-bottom: 0.75rem; font-size: 1.05rem; }

        /* --- TECHNICAL & IMAGE BLOCKS --- */
        .screenshot-container { margin: 1.75rem 0; text-align: center; }
        
        .screenshot-container img {
            max-width: 66.67%;
            height: auto;
            display: block;
            margin: 0 auto;
            background-color: var(--bg-light);
            border: 1px solid var(--border);
            border-radius: 6px;
            cursor: zoom-in;
            transition: transform 0.2s ease;
        }

        .screenshot-container img:hover { transform: scale(1.01); }

        pre {
            background: #F3F4F6;
            padding: 1.25rem;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            border-left: 4px solid var(--sap-blue);
            margin: 2rem 0;
            color: var(--text-dark);
        }

        code {
            font-family: 'Courier New', monospace;
            background: #EEF2F6;
            color: var(--sap-blue);
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-size: 0.95em;
            font-weight: 500;
        }

        pre code {
            background: none;
            color: inherit;
            padding: 0;
            font-weight: normal;
        }

        /* --- ENHANCED LIGHTBOX (ZOOM) STYLING --- */
        #lightbox {
            display: none;
            position: fixed;
            z-index: 9999;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95);
            cursor: zoom-out;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
        }

        #lightbox.active {
            display: flex;
        }

        .lightbox-content {
            position: relative;
            max-width: 90%;
            max-height: 90%;
            animation: zoomIn 0.3s ease;
        }

        #lightbox img {
            max-width: 100%;
            max-height: 90vh;
            object-fit: contain;
            border-radius: 4px;
            box-shadow: 0 10px 50px rgba(0, 0, 0, 0.5);
            cursor: default;
        }

        /* Lightbox Controls */
        .lightbox-close {
            position: absolute;
            top: 20px;
            right: 30px;
            font-size: 40px;
            color: #ffffff;
            cursor: pointer;
            z-index: 10000;
            transition: transform 0.2s ease;
            font-weight: 300;
            line-height: 1;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .lightbox-close:hover {
            transform: rotate(90deg);
        }

        .lightbox-prev,
        .lightbox-next {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            font-size: 50px;
            color: #ffffff;
            cursor: pointer;
            padding: 20px;
            transition: opacity 0.2s ease;
            user-select: none;
            z-index: 10000;
        }

        .lightbox-prev:hover,
        .lightbox-next:hover {
            opacity: 0.7;
        }

        .lightbox-prev {
            left: 20px;
        }

        .lightbox-next {
            right: 20px;
        }

        .lightbox-counter {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: #ffffff;
            font-size: 16px;
            background: rgba(0, 0, 0, 0.5);
            padding: 8px 16px;
            border-radius: 20px;
            z-index: 10000;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes zoomIn {
            from { 
                opacity: 0;
                transform: scale(0.8);
            }
            to { 
                opacity: 1;
                transform: scale(1);
            }
        }

        /* Prevent body scroll when lightbox is open */
        body.lightbox-open {
            overflow: hidden;
        }

        /* --- STAY UPDATED SECTION --- */
        .stay-updated {
            margin-top: 3rem;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }

        .stay-updated-card {
            background: var(--bg-light);
            padding: 1.25rem;
            border-radius: 12px;
            border: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .stay-updated-card h3 {
            color: var(--text-dark);
            font-size: 1.3rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .stay-updated-card p {
            color: var(--text-muted);
            font-size: 0.95rem;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .newsletter-form {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .newsletter-form input {
            padding: 10px 12px;
            border: 1px solid var(--border);
            border-radius: 6px;
            font-size: 0.95rem;
            font-family: 'Inter', sans-serif;
            transition: border-color 0.2s;
        }

        .newsletter-form input:focus {
            outline: none;
            border-color: var(--sap-blue);
            box-shadow: 0 0 0 3px rgba(0, 85, 151, 0.1);
        }

        .btn-subscribe {
            padding: 10px 20px;
            background: var(--sap-blue);
            color: #fff;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s ease;
        }

        .btn-subscribe:hover {
            background: var(--sap-blue-light);
        }

        .btn-youtube {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            padding: 12px 24px;
            background: #ff0000;
            color: #fff;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            transition: background 0.2s ease;
            width: fit-content;
            margin-top: auto;
        }

        .btn-youtube:hover {
            background: #cc0000;
        }

        @media (max-width: 768px) {
            .stay-updated {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
        }

        /* --- FOOTER & CTA --- */
        .freelancer-cta {
            margin-top: 6rem;
            padding: 3rem;
            background: var(--bg-light);
            border-radius: 16px;
            text-align: center;
            border: 1px solid var(--border);
        }

        .btn-freelance {
            display: inline-block;
            background: var(--sap-blue);
            color: #fff;
            text-decoration: none;
            padding: 12px 24px;
            border-radius: 6px;
            font-weight: 600;
            margin-top: 1rem;
            transition: background 0.2s ease;
        }

        .btn-freelance:hover {
            background: #004276;
        }

        footer { padding: 4rem 10%; text-align: center; font-size: 0.85rem; color: #9CA3AF; border-top: 1px solid var(--border); }
    </style>
</head>
<body>

    <header>
        <a href="../../index.html" class="logo">WM<span>experts</span></a>
        <nav><a href="../../index.html">← Back to Blog</a></nav>
    </header>

    <article>
        <div class="breadcrumb">Category Name</div>
        <h1>Your Great SAP EWM Insight</h1>

        <div class="video-wrapper">
            <iframe src="https://www.youtube.com/embed/VIDEO_ID_HERE" title="YouTube video player" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>

        <div class="content">
            <p>Example paragraph text.</p>
            <div class="screenshot-container">
                <img src="../../assets/images/placeholder.png" alt="Descriptive alt text for the image" width="800" height="450" loading="lazy">
            </div>
            <pre>/SCWM/TECHNICAL_DETAILS</pre>
        </div>

        <!-- STAY UPDATED SECTION -->
        <div class="stay-updated">
            <!-- Newsletter Card -->
            <div class="stay-updated-card">
                <div>
                    <h3>📧 Newsletter</h3>
                    <p>Get updates about new blog posts directly in your inbox.</p>
                </div>
                <form action="https://online.us17.list-manage.com/subscribe/post?u=3dbafeb5441a290b4bfdeeb38&id=226759b4e6&f_id=00e24be0f0" method="post" class="newsletter-form" target="_blank" rel="noopener noreferrer">
                    <input type="email" name="EMAIL" placeholder="Your email" required>
                    <input type="text" name="FNAME" placeholder="First name (optional)">
                    <input type="text" name="LNAME" placeholder="Last name (optional)">
                    <input type="text" name="b_3dbafeb5441a290b4bfdeeb38_226759b4e6" style="display: none;" tabindex="-1">
                    <button type="submit" class="btn-subscribe">Subscribe</button>
                </form>
            </div>

            <!-- YouTube Card -->
            <div class="stay-updated-card">
                <div>
                    <h3>▶️ YouTube Channel</h3>
                    <p>Subscribe to my channel for regular tutorials & insights about SAP EWM.</p>
                </div>
                <a href="https://www.youtube.com/@sapewm?sub_confirmation=1" target="_blank" rel="noopener noreferrer" class="btn-youtube">Subscribe on YouTube</a>
            </div>
        </div>

        <div class="freelancer-cta">
            <p><strong>Need EWM expertise within your project?</strong><br>
            WMexperts.online is a knowledge-sharing project of Hendrik, a Senior SAP EWM Freelancer.</p>
            <a href="#" class="btn-freelance">Explore my Freelance Profile →</a>
        </div>
    </article>

    <!-- ENHANCED LIGHTBOX OVERLAY -->
    <div id="lightbox">
        <span class="lightbox-close" id="lightbox-close">&times;</span>
        <span class="lightbox-prev" id="lightbox-prev">&#8249;</span>
        <span class="lightbox-next" id="lightbox-next">&#8250;</span>
        <div class="lightbox-content">
            <img id="lightbox-img" src="" alt="">
        </div>
        <div class="lightbox-counter" id="lightbox-counter"></div>
    </div>

    <footer>&copy; 2026 WMexperts.online • Functional & Technical SAP EWM Expertise</footer>

    <!-- ENHANCED LIGHTBOX JAVASCRIPT -->
    <script>
        (function() {
            const lightbox = document.getElementById('lightbox');
            const lightboxImg = document.getElementById('lightbox-img');
            const lightboxClose = document.getElementById('lightbox-close');
            const lightboxPrev = document.getElementById('lightbox-prev');
            const lightboxNext = document.getElementById('lightbox-next');
            const lightboxCounter = document.getElementById('lightbox-counter');
            
            // Get all images that should be zoomable
            const images = document.querySelectorAll('.screenshot-container img, .content img');
            let currentImageIndex = 0;

            // Add click event to all images
            images.forEach((img, index) => {
                img.addEventListener('click', function() {
                    openLightbox(index);
                });
            });

            function openLightbox(index) {
                currentImageIndex = index;
                lightboxImg.src = images[currentImageIndex].src;
                lightboxImg.alt = images[currentImageIndex].alt;
                lightbox.classList.add('active');
                document.body.classList.add('lightbox-open');
                updateCounter();
                
                // Show/hide navigation arrows based on number of images
                if (images.length <= 1) {
                    lightboxPrev.style.display = 'none';
                    lightboxNext.style.display = 'none';
                } else {
                    lightboxPrev.style.display = 'block';
                    lightboxNext.style.display = 'block';
                }
            }

            function closeLightbox() {
                lightbox.classList.remove('active');
                document.body.classList.remove('lightbox-open');
            }

            function showPrevImage() {
                currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;
                lightboxImg.src = images[currentImageIndex].src;
                lightboxImg.alt = images[currentImageIndex].alt;
                updateCounter();
            }

            function showNextImage() {
                currentImageIndex = (currentImageIndex + 1) % images.length;
                lightboxImg.src = images[currentImageIndex].src;
                lightboxImg.alt = images[currentImageIndex].alt;
                updateCounter();
            }

            function updateCounter() {
                if (images.length > 1) {
                    lightboxCounter.textContent = `${currentImageIndex + 1} / ${images.length}`;
                    lightboxCounter.style.display = 'block';
                } else {
                    lightboxCounter.style.display = 'none';
                }
            }

            // Event listeners
            lightboxClose.addEventListener('click', function(e) {
                e.stopPropagation();
                closeLightbox();
            });

            lightboxPrev.addEventListener('click', function(e) {
                e.stopPropagation();
                showPrevImage();
            });

            lightboxNext.addEventListener('click', function(e) {
                e.stopPropagation();
                showNextImage();
            });

            // Click on overlay background to close
            lightbox.addEventListener('click', function(e) {
                if (e.target === lightbox) {
                    closeLightbox();
                }
            });

            // Keyboard navigation
            document.addEventListener('keydown', function(e) {
                if (!lightbox.classList.contains('active')) return;
                
                if (e.key === 'Escape') {
                    closeLightbox();
                } else if (e.key === 'ArrowLeft') {
                    showPrevImage();
                } else if (e.key === 'ArrowRight') {
                    showNextImage();
                }
            });

            // Prevent image content click from closing lightbox
            lightboxImg.addEventListener('click', function(e) {
                e.stopPropagation();
            });
        })();
    </script>

</body>
</html>
