<h1>Reveal SAP EWM</h1><h2>Inbound staging bin determination</h2><p>This blog reveals the logic for staging bin determination step as part of an inbound unloading storage process step. Having said that, it should be obvious that we are looking into inbound processes using the process-oriented storage control in order to model the physical flow &amp; steps. In this context we will also cover the staging bin determination for delivery items in general. So even if you are not using the POSC, this article provides everything you need to know about this topic.</p><p>The blog is separated into the following sections:</p><ul><li>Rules-based vs. non-rules-based staging bin determination</li><li>Deep-dive into the logic</li><li>Option for enhancements</li></ul><p>Let us start with looking into the differentiation between a rules-based and a non-rules-based determination, while using the process-oriented storage control.</p><p>The standard help text is very ‚Äì let‚Äôs say ‚Äòlean‚Äô here:</p>		
																<a href="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_01.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MTg2MTYsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDIzXC8xMVwvU0FQLUVXTS1JbmJvdW5kLXN0YWdpbmctYmluLWRldGVybWluYXRpb25fMDEucG5nIn0%3D">
							<img width="936" height="393" src="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_01.png" alt="SAP EWM Inbound staging bin determination_01" srcset="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_01.png 936w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_01-300x126.png 300w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_01-768x322.png 768w" sizes="(max-width: 936px) 100vw, 936px" />								</a>
																<a href="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_02.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MTg2MTcsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDIzXC8xMVwvU0FQLUVXTS1JbmJvdW5kLXN0YWdpbmctYmluLWRldGVybWluYXRpb25fMDIucG5nIn0%3D">
							<img width="936" height="362" src="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_02.png" alt="SAP EWM Inbound staging bin determination_02" srcset="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_02.png 936w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_02-300x116.png 300w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_02-768x297.png 768w" sizes="(max-width: 936px) 100vw, 936px" />								</a>
		<p>Honestly ‚Äì that help text here does not help at all. At least not when you are just starting your EWM journey. The web-help (help.sap.com) does also not offer anything helpful here (at least not at the time of writing this blog post). Minimal information in the SAP Press Books about EWM and nothing in the OSS.</p><p>In general, the ‚ÄòRule-based‚Äô flags are used to trigger logic which is used to determine the destination which is needed to complete the <u>previous</u> step (so e.g. a record with OB02 will set the destination for step OB01). It replaces the rather fixed, pre-given destination (storage types, storage sections and storage bins) that you can maintain in each external step.</p><p>¬†</p><p>The inbound staging bin determination logic in the context of the POSC is only relevant for <u>unloading</u> steps though. This also means, that the rules-based flag helps us here to find the destination bin for <u>the actual (the <em>unloading</em>) step</u> (this is kind of unique ‚Äì as mentioned above, for most of the other steps we are actually determining the destination data for the <u>previous</u> step).</p><p>¬†</p><p>Note that I highlighted the ‚Äòunloading step‚Äô here. This is important to understand. If we want to determine the staging bin via the POSC, we need to do this via an unloading step (not via a ‚Äòstaging‚Äô step like one could think in the first place ‚Äì the latter is only used during the outbound process)!</p><p>¬†</p><p>Within this blog post, we will first look into the non-rules-based logic, before we close with the non-rules-based one.</p><p>¬†</p><p>Non-rules-based is pretty straightforward -</p><p>EWM simply reads the destination bin from the customizing of the POSC step itself. That‚Äôs it. No determination logic. No determination table:</p>		
																<a href="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_03.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MTg2MTgsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDIzXC8xMVwvU0FQLUVXTS1JbmJvdW5kLXN0YWdpbmctYmluLWRldGVybWluYXRpb25fMDMucG5nIn0%3D">
							<img width="780" height="212" src="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_03.png" alt="SAP EWM Inbound staging bin determination_03" srcset="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_03.png 780w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_03-300x82.png 300w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_03-768x209.png 768w" sizes="(max-width: 780px) 100vw, 780px" />								</a>
		<p>So let us focus on the rules-based option, which is much more interesting!</p><p>¬†</p><p>What the bin determination for all POSC steps has in common, is the spot in the code where the respective logic is being called. Function module /SCWM/STORAGE_CONTROL_P_GET is the most important player here. For the inbound unloading / staging process, it reads the staging data, which should have been set already ahead of the POSC actually being executed (so ahead of unloading the HUs). The staging data is read via FM /SCWM/GET_STAGING_AREA_INT, which will then return the <u>destination bin for the unloading step</u>:</p>		
																<a href="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_04.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MTg2MTksInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDIzXC8xMVwvU0FQLUVXTS1JbmJvdW5kLXN0YWdpbmctYmluLWRldGVybWluYXRpb25fMDQucG5nIn0%3D">
							<img width="780" height="374" src="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_04.png" alt="SAP EWM Inbound staging bin determination_04" srcset="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_04.png 780w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_04-300x144.png 300w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_04-768x368.png 768w" sizes="(max-width: 780px) 100vw, 780px" />								</a>
		<p>The FM reads the staging area for items of the given handling unit. It first (1) tries to get it from the delivery items where the HU items are referring to:</p>		
																<a href="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_05.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MTg2MjAsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDIzXC8xMVwvU0FQLUVXTS1JbmJvdW5kLXN0YWdpbmctYmluLWRldGVybWluYXRpb25fMDUucG5nIn0%3D">
							<img width="780" height="575" src="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_05.png" alt="SAP EWM Inbound staging bin determination_05" srcset="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_05.png 780w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_05-300x221.png 300w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_05-768x566.png 768w" sizes="(max-width: 780px) 100vw, 780px" />								</a>
		<p>Pretty easy, but how did EWM actually fill those fields on delivery item level?</p><p>As this is not happening within the POSC coding itself, we are now leaving the POSC for a quick excurse. The logic that I explain now is independent from whether you are later using the POSC for the inbound process or not. This is purely about the staging data determination for the delivery item. We will come back to the POSC context later again.</p><p>The <u>trigger</u> for the staging data determination for the delivery item is sitting here:</p><p>/SCWM/CL_AF_SR_CONFIG-/SCWM/IF_AF_SR_CONFIG~DETERMINE_STAGING_AREA_INB</p>		
																<a href="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_06.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MTg2MjEsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDIzXC8xMVwvU0FQLUVXTS1JbmJvdW5kLXN0YWdpbmctYmluLWRldGVybWluYXRpb25fMDYucG5nIn0%3D">
							<img width="780" height="329" src="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_06.png" alt="SAP EWM Inbound staging bin determination_06" srcset="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_06.png 780w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_06-300x127.png 300w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_06-768x324.png 768w" sizes="(max-width: 780px) 100vw, 780px" />								</a>
		<p>But the whole <u>logic</u> is sitting inside of method /SCWM/CL_AF_SR_CONFIG-DETERMINE_STAREA_INB, which is called from the one mentioned before.</p><p>Let us go through that one step-by-step:</p><p>First this method makes use of method SELECT_STAREA_DET to read the application data:</p><ol><li>Read all records from the staging area determination table for the given warehouse number (filled via transaction /SCWM/STADET_IN)</li></ol><p>Read all records from the staging area access sequence for the given warehouse number (filled via transaction /SCWM/STADET_ASS)</p>		
																<a href="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_07.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MTg2MjIsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDIzXC8xMVwvU0FQLUVXTS1JbmJvdW5kLXN0YWdpbmctYmluLWRldGVybWluYXRpb25fMDcucG5nIn0%3D">
							<img width="549" height="396" src="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_07.png" alt="SAP EWM Inbound staging bin determination_07" srcset="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_07.png 549w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_07-300x216.png 300w" sizes="(max-width: 549px) 100vw, 549px" />								</a>
															<img width="617" height="418" src="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_08.png" alt="SAP EWM Inbound staging bin determination_08" srcset="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_08.png 617w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_08-300x203.png 300w" sizes="(max-width: 617px) 100vw, 617px" />															
																<a href="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_09.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MTg2MDEsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDIzXC8xMVwvU0FQLUVXTS1JbmJvdW5kLXN0YWdpbmctYmluLWRldGVybWluYXRpb25fMDkucG5nIn0%3D">
							<img width="780" height="136" src="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_09.png" alt="SAP EWM Inbound staging bin determination_09" srcset="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_09.png 780w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_09-300x52.png 300w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_09-768x134.png 768w" sizes="(max-width: 780px) 100vw, 780px" />								</a>
															<img width="584" height="392" src="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_10.png" alt="SAP EWM Inbound staging bin determination_10" srcset="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_10.png 584w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_10-300x201.png 300w" sizes="(max-width: 584px) 100vw, 584px" />															
																<a href="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_11.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MTg2MDMsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDIzXC8xMVwvU0FQLUVXTS1JbmJvdW5kLXN0YWdpbmctYmluLWRldGVybWluYXRpb25fMTEucG5nIn0%3D">
							<img width="780" height="145" src="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_11.png" alt="SAP EWM Inbound staging bin determination_11" srcset="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_11.png 780w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_11-300x56.png 300w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_11-768x143.png 768w" sizes="(max-width: 780px) 100vw, 780px" />								</a>
		<p>This selected data is returned to method DETERMINE_STAREA_INB in order to evaluate the determination table records based on the access sequence and then return the result / match.</p><p>Important notes (~ some ‚Äì incl. myself - call it ‚Äòparty knowledge‚Äô (I understand if you now imagine a very nerdy party ;-) )):</p><ul><li>The access sequence table is used for inbound as well as outbound processes and not all fields of the table are relevant for the staging bin determination in the context of the <u>inbound</u> process (green vs. red)</li></ul>		
																<a href="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_12.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MTg2MDQsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDIzXC8xMVwvU0FQLUVXTS1JbmJvdW5kLXN0YWdpbmctYmluLWRldGVybWluYXRpb25fMTIucG5nIn0%3D">
							<img width="780" height="120" src="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_12.png" alt="SAP EWM Inbound staging bin determination_12" srcset="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_12.png 780w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_12-300x46.png 300w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_12-768x118.png 768w" sizes="(max-width: 780px) 100vw, 780px" />								</a>
		<ul><li>The Door field is the only one which is <u>not</u> mandatory (~ does not have to be filled in the delivery item) even if you set the door flag for all records of the access sequence (at the end, EWM will <u>always</u> try to find a record without considering the door value &gt; no door access after the ELSE statement in the screenshot below)</li></ul>		
																<a href="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_13.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MTg2MDUsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDIzXC8xMVwvU0FQLUVXTS1JbmJvdW5kLXN0YWdpbmctYmluLWRldGVybWluYXRpb25fMTMucG5nIn0%3D">
							<img width="780" height="592" src="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_13.png" alt="SAP EWM Inbound staging bin determination_13" srcset="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_13.png 780w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_13-300x228.png 300w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_13-768x583.png 768w" sizes="(max-width: 780px) 100vw, 780px" />								</a>
		<p>That‚Äôs it. Pretty simple. No surprises! We know now where the data is coming from. Finished our short excurse about the staging data determination for the inbound delivery items.</p><p>Back to the POSC and back to the FM that started the determination process (/SCWM/GET_STAGING_AREA_INT) and which original task was to handover the staging data to the POSC determination logic. In case is <u>not</u> possible for this FM to get the data from the warehouse request (~ the fields in the delivery item are empty), it tries to get it from the <u>transportation unit</u> (2):</p>		
																<a href="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_14.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MTg2MDYsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDIzXC8xMVwvU0FQLUVXTS1JbmJvdW5kLXN0YWdpbmctYmluLWRldGVybWluYXRpb25fMTQucG5nIn0%3D">
							<img width="780" height="584" src="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_14.png" alt="SAP EWM Inbound staging bin determination_14" srcset="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_14.png 780w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_14-300x225.png 300w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_14-768x575.png 768w" sizes="(max-width: 780px) 100vw, 780px" />								</a>
																<a href="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_15.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MTg2MDcsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDIzXC8xMVwvU0FQLUVXTS1JbmJvdW5kLXN0YWdpbmctYmluLWRldGVybWluYXRpb25fMTUucG5nIn0%3D">
							<img width="780" height="283" src="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_15.png" alt="SAP EWM Inbound staging bin determination_15" srcset="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_15.png 780w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_15-300x109.png 300w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_15-768x279.png 768w" sizes="(max-width: 780px) 100vw, 780px" />								</a>
		<p>So let us try to explore where and how EWM determines the data from the transportation unit.</p><p>Method /SCWM/CL_SR_MY_SERVICE-GET_DLV_DOOR_BY_TU first tries to determine the relevant TU based on the <u>HU item data</u> (remember we are analyzing the task creation in the context of the process-oriented storage control here &gt; thus, we are always trying to create a task for a HU, during runtime of the code that you see here).</p><p>Once it has determined the assigned TU, it reads the <u>door assignments</u> to this TU, which are matching the <u>planned times for the start/end of the unloading process</u> (ignoring all door assignments where the time window either stops before the planned unloading start or where the time window starts only after the planned unloading end):</p>		
																<a href="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_16.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MTg2MDgsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDIzXC8xMVwvU0FQLUVXTS1JbmJvdW5kLXN0YWdpbmctYmluLWRldGVybWluYXRpb25fMTYucG5nIn0%3D">
							<img width="780" height="393" src="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_16.png" alt="SAP EWM Inbound staging bin determination_16" srcset="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_16.png 780w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_16-300x151.png 300w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_16-768x387.png 768w" sizes="(max-width: 780px) 100vw, 780px" />								</a>
		<p>If EWM finds exactly one door within the allowed time window for unloading, it proceeds with the staging bin determination via method /SCWM/CL_SR_CONFIG-STAGE_AREA_DET_IN:</p>		
																<a href="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_17.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MTg2MDksInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDIzXC8xMVwvU0FQLUVXTS1JbmJvdW5kLXN0YWdpbmctYmluLWRldGVybWluYXRpb25fMTcucG5nIn0%3D">
							<img width="780" height="493" src="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_17.png" alt="SAP EWM Inbound staging bin determination_17" srcset="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_17.png 780w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_17-300x190.png 300w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_17-768x485.png 768w" sizes="(max-width: 780px) 100vw, 780px" />								</a>
		<p>From within this method we call method /SCWM/CL_SR_CONFIG-GET_STADET_IN, which is doing the exact same thing as method /SCWM/CL_AF_SR_CONFIG-DETERMINE_STAREA_INB did for the inbound delivery item before. It reads the determination table and the access sequence records and then compares those with the data collected from the transportation unit (also considering the door that was determined for the planned unloading time window (described above)):</p>		
																<a href="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_18.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MTg2MTAsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDIzXC8xMVwvU0FQLUVXTS1JbmJvdW5kLXN0YWdpbmctYmluLWRldGVybWluYXRpb25fMTgucG5nIn0%3D">
							<img width="780" height="362" src="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_18.png" alt="SAP EWM Inbound staging bin determination_18" srcset="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_18.png 780w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_18-300x139.png 300w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_18-768x356.png 768w" sizes="(max-width: 780px) 100vw, 780px" />								</a>
																<a href="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_19.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MTg2MTEsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDIzXC8xMVwvU0FQLUVXTS1JbmJvdW5kLXN0YWdpbmctYmluLWRldGVybWluYXRpb25fMTkucG5nIn0%3D">
							<img width="780" height="539" src="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_19.png" alt="SAP EWM Inbound staging bin determination_19" srcset="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_19.png 780w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_19-300x207.png 300w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_19-768x531.png 768w" sizes="(max-width: 780px) 100vw, 780px" />								</a>
		<p>The result of this method is than carried back to function module /SCWM/GET_STAGING_AREA_INT, which then returns the data back to our well-known POSC FM /SCWM/STORAGE_CONTROL_P_GET which kicked-off the determination initially, in order to get the destination for the unloading step of our storage process.</p><p>That‚Äôs it. You do know have (or have not) staging data which has been determined in a rules-based approach, either based on the delivery item or based on the transportation unit.</p><p>It is important to understand that it is <u>not</u> foreseen to skip the unloading step entirely (like e.g. steps for quality inspection or deconsolidation during the inbound process). So in case you decided for the rules-based logic and the staging bin determination described above does <u>not</u> return a valid bin, EWM will give you an error message instead of skipping the step!</p><p>As usual, I will close this post listing some options for you the enhance the EWM standard logic here.</p><p><u>Options for enhancements</u></p><p>Badi for staging bin determination of delivery items: /SCWM/EX_SR_STADET</p><p>This Badi is called at the end of method /SCWM/CL_AF_SR_CONFIG-/SCWM/IF_AF_SR_CONFIG~DETERMINE_STAGING_AREA_INB (so after the standard bin determination for the delivery item has been processed) and also at the end of method /SCWM/CL_SR_CONFIG-STAGE_AREA_DET_IN (so after the standard bin determination based on the TU has been processed):</p>		
																<a href="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_20.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MTg2MTMsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDIzXC8xMVwvU0FQLUVXTS1JbmJvdW5kLXN0YWdpbmctYmluLWRldGVybWluYXRpb25fMjAucG5nIn0%3D">
							<img width="780" height="613" src="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_20.png" alt="SAP EWM Inbound staging bin determination_20" srcset="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_20.png 780w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_20-300x236.png 300w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_20-768x604.png 768w" sizes="(max-width: 780px) 100vw, 780px" />								</a>
																<a href="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_21.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MTg2MTQsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDIzXC8xMVwvU0FQLUVXTS1JbmJvdW5kLXN0YWdpbmctYmluLWRldGVybWluYXRpb25fMjEucG5nIn0%3D">
							<img width="780" height="443" src="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_21.png" alt="SAP EWM Inbound staging bin determination_21" srcset="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_21.png 780w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_21-300x170.png 300w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_21-768x436.png 768w" sizes="(max-width: 780px) 100vw, 780px" />								</a>
		<p>Badi to determine destination bin for storage process step: /SCWM/EX_CORE_PSC_PROCESS</p><p>At the end of the FM /SCWM/STORAGE_CONTROL_P_GET, EWM calls this Badi, which can be used to implement your very own rules-based determination of the destination data for the given POSC step (this one is independent of the step type itself)</p>		
																<a href="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_22.png" data-elementor-open-lightbox="yes" data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MTg2MTUsInVybCI6Imh0dHBzOlwvXC93bWV4cGVydHMub25saW5lXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDIzXC8xMVwvU0FQLUVXTS1JbmJvdW5kLXN0YWdpbmctYmluLWRldGVybWluYXRpb25fMjIucG5nIn0%3D">
							<img width="780" height="598" src="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_22.png" alt="SAP EWM Inbound staging bin determination_22" srcset="https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_22.png 780w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_22-300x230.png 300w, https://wmexperts.online/wp-content/uploads/2023/11/SAP-EWM-Inbound-staging-bin-determination_22-768x589.png 768w" sizes="(max-width: 780px) 100vw, 780px" />								</a>
		<p><em>Based on this article you should have a good understanding of the staging data determination for delivery items. On top of this, you know now how this data is being evaluated in the context of the process-oriented storage control and which additional options you have here, while using the POSC (non-rules-based with fixed data in the POSC step or rules-based considering the delivery item &amp; TU data).</em></p><p><em> Please feel free to s</em><em>ubscribe to my <strong><a href="https://wmexperts.online/blog-newsletter/" target="_blank" rel="noopener">blog updates </a></strong>or my <strong><a href="https://www.youtube.com/channel/UCRcn9mXPIJ58JVTeU0oKrFg?sub_confirmation=1">youtube channel </a></strong>in case you want to be notified about new posts!</em></p>		
					<h2>Get my monthly blog-updates!</h2>				
					<h2>Subscribe to my Youtube channel!</h2>				
					<a href="https://www.youtube.com/channel/UCRcn9mXPIJ58JVTeU0oKrFg?sub_confirmation=1" target="_blank">
									Subscribe
					</a><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="In-depth article about SAP EWM. Learn technical and functional details about [Topic].">
    <meta name="keywords" content="SAP EWM, Warehouse Management, [Topic Keywords]">
    <meta name="author" content="Hendrik">
    <link rel="icon" type="image/png" href="/assets/favicon/wmexperts%20favicon.png">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="article">
    <meta property="og:title" content="Article Title | WMexperts">
    <meta property="og:description" content="In-depth article about SAP EWM. Learn technical and functional details about [Topic].">
    <meta property="article:published_time" content="2024-01-01">
    <meta property="article:modified_time" content="2024-01-01">

    <!-- Structured Data -->
    <script type="application/ld+json">
    [
      {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "headline": "Article Title",
        "description": "In-depth article about SAP EWM. Learn technical and functional details about [Topic].",
        "image": "https://wmexperts.online/assets/images/placeholder.png",
        "datePublished": "2024-01-01",
        "dateModified": "2024-01-01",
        "author": {
          "@type": "Person",
          "name": "Hendrik"
        },
        "publisher": {
          "@type": "Organization",
          "name": "WMexperts",
          "logo": {
            "@type": "ImageObject",
            "url": "https://wmexperts.online/assets/logo.png"
          }
        }
      },
      {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [{
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https://wmexperts.online/"
        },{
          "@type": "ListItem",
          "position": 2,
          "name": "Blog",
          "item": "https://wmexperts.online/blog-posts/category/article-slug.html"
        }]
      }
    ]
    </script>

    <title>Article Title | WMexperts</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --sap-blue: #005597;
            --bg-light: #F9FAFB;
            --text-dark: #111827;
            --text-muted: #4B5563;
            --border: #E5E7EB;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #ffffff;
            color: var(--text-muted);
            margin: 0;
            line-height: 1.8;
        }

        /* --- NAVIGATION --- */
        header {
            background: #fff;
            padding: 1rem 10%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo { font-weight: 600; font-size: 1.4rem; color: var(--text-dark); text-decoration: none; }
        .logo span { color: var(--sap-blue); }
        nav a { text-decoration: none; color: var(--text-muted); font-size: 0.9rem; font-weight: 600; }

        /* --- ARTICLE STRUCTURE --- */
        article { max-width: 800px; margin: 4rem auto; padding: 0 20px; }

        .breadcrumb {
            font-size: 0.75rem;
            color: var(--sap-blue);
            text-transform: uppercase;
            font-weight: 600;
            letter-spacing: 1px;
            margin-bottom: 1rem;
        }

        h1 { font-size: 2.8rem; color: var(--text-dark); line-height: 1.2; margin-bottom: 1.5rem; letter-spacing: -1px; }

        /* --- RESPONSIVE VIDEO CONTAINER --- */
        .video-wrapper {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
            height: 0;
            overflow: hidden;
            margin: 2.5rem 0;
            border-radius: 12px;
            background: #000;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .video-wrapper iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
        }

        .content p { margin-bottom: 0.75rem; font-size: 1.1rem; }
        .content h2 { color: var(--text-dark); margin-top: 1.75rem; font-size: 1.8rem; border-bottom: 2px solid var(--bg-light); padding-bottom: 0.5rem; }
        .content ul { padding-left: 1.5rem; margin-bottom: 2rem; }
        .content li { margin-bottom: 0.75rem; font-size: 1.05rem; }

        /* --- TECHNICAL & IMAGE BLOCKS --- */
        .screenshot-container { margin: 1.75rem 0; text-align: center; }
        
        .screenshot-container img {
            max-width: 66.67%;
            height: auto;
            display: block;
            margin: 0 auto;
            background-color: var(--bg-light);
            border: 1px solid var(--border);
            border-radius: 6px;
            cursor: zoom-in;
            transition: transform 0.2s ease;
        }

        .screenshot-container img:hover { transform: scale(1.01); }

        pre {
            background: #F3F4F6;
            padding: 1.25rem;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            border-left: 4px solid var(--sap-blue);
            margin: 2rem 0;
            color: var(--text-dark);
        }

        code {
            font-family: 'Courier New', monospace;
            background: #EEF2F6;
            color: var(--sap-blue);
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-size: 0.95em;
            font-weight: 500;
        }

        pre code {
            background: none;
            color: inherit;
            padding: 0;
            font-weight: normal;
        }

        /* --- ENHANCED LIGHTBOX (ZOOM) STYLING --- */
        #lightbox {
            display: none;
            position: fixed;
            z-index: 9999;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95);
            cursor: zoom-out;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
        }

        #lightbox.active {
            display: flex;
        }

        .lightbox-content {
            position: relative;
            max-width: 90%;
            max-height: 90%;
            animation: zoomIn 0.3s ease;
        }

        #lightbox img {
            max-width: 100%;
            max-height: 90vh;
            object-fit: contain;
            border-radius: 4px;
            box-shadow: 0 10px 50px rgba(0, 0, 0, 0.5);
            cursor: default;
        }

        /* Lightbox Controls */
        .lightbox-close {
            position: absolute;
            top: 20px;
            right: 30px;
            font-size: 40px;
            color: #ffffff;
            cursor: pointer;
            z-index: 10000;
            transition: transform 0.2s ease;
            font-weight: 300;
            line-height: 1;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .lightbox-close:hover {
            transform: rotate(90deg);
        }

        .lightbox-prev,
        .lightbox-next {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            font-size: 50px;
            color: #ffffff;
            cursor: pointer;
            padding: 20px;
            transition: opacity 0.2s ease;
            user-select: none;
            z-index: 10000;
        }

        .lightbox-prev:hover,
        .lightbox-next:hover {
            opacity: 0.7;
        }

        .lightbox-prev {
            left: 20px;
        }

        .lightbox-next {
            right: 20px;
        }

        .lightbox-counter {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: #ffffff;
            font-size: 16px;
            background: rgba(0, 0, 0, 0.5);
            padding: 8px 16px;
            border-radius: 20px;
            z-index: 10000;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes zoomIn {
            from { 
                opacity: 0;
                transform: scale(0.8);
            }
            to { 
                opacity: 1;
                transform: scale(1);
            }
        }

        /* Prevent body scroll when lightbox is open */
        body.lightbox-open {
            overflow: hidden;
        }

        /* --- STAY UPDATED SECTION --- */
        .stay-updated {
            margin-top: 3rem;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }

        .stay-updated-card {
            background: var(--bg-light);
            padding: 1.25rem;
            border-radius: 12px;
            border: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .stay-updated-card h3 {
            color: var(--text-dark);
            font-size: 1.3rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .stay-updated-card p {
            color: var(--text-muted);
            font-size: 0.95rem;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .newsletter-form {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .newsletter-form input {
            padding: 10px 12px;
            border: 1px solid var(--border);
            border-radius: 6px;
            font-size: 0.95rem;
            font-family: 'Inter', sans-serif;
            transition: border-color 0.2s;
        }

        .newsletter-form input:focus {
            outline: none;
            border-color: var(--sap-blue);
            box-shadow: 0 0 0 3px rgba(0, 85, 151, 0.1);
        }

        .btn-subscribe {
            padding: 10px 20px;
            background: var(--sap-blue);
            color: #fff;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s ease;
        }

        .btn-subscribe:hover {
            background: var(--sap-blue-light);
        }

        .btn-youtube {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            padding: 12px 24px;
            background: #ff0000;
            color: #fff;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            transition: background 0.2s ease;
            width: fit-content;
            margin-top: auto;
        }

        .btn-youtube:hover {
            background: #cc0000;
        }

        @media (max-width: 768px) {
            .stay-updated {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
        }

        /* --- FOOTER & CTA --- */
        .freelancer-cta {
            margin-top: 6rem;
            padding: 3rem;
            background: var(--bg-light);
            border-radius: 16px;
            text-align: center;
            border: 1px solid var(--border);
        }

        .btn-freelance {
            display: inline-block;
            background: var(--sap-blue);
            color: #fff;
            text-decoration: none;
            padding: 12px 24px;
            border-radius: 6px;
            font-weight: 600;
            margin-top: 1rem;
            transition: background 0.2s ease;
        }

        .btn-freelance:hover {
            background: #004276;
        }

        footer { padding: 4rem 10%; text-align: center; font-size: 0.85rem; color: #9CA3AF; border-top: 1px solid var(--border); }
    </style>
</head>
<body>

    <header>
        <a href="../../index.html" class="logo">WM<span>experts</span></a>
        <nav><a href="../../index.html">‚Üê Back to Blog</a></nav>
    </header>

    <article>
        <div class="breadcrumb">Category Name</div>
        <h1>Your Great SAP EWM Insight</h1>

        <div class="video-wrapper">
            <iframe src="https://www.youtube.com/embed/VIDEO_ID_HERE" title="YouTube video player" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>

        <div class="content">
            <p>Example paragraph text.</p>
            <div class="screenshot-container">
                <img src="../../assets/images/placeholder.png" alt="Descriptive alt text for the image" width="800" height="450" loading="lazy">
            </div>
            <pre>/SCWM/TECHNICAL_DETAILS</pre>
        </div>

        <!-- STAY UPDATED SECTION -->
        <div class="stay-updated">
            <!-- Newsletter Card -->
            <div class="stay-updated-card">
                <div>
                    <h3>üìß Newsletter</h3>
                    <p>Get updates about new blog posts directly in your inbox.</p>
                </div>
                <form action="https://online.us17.list-manage.com/subscribe/post?u=3dbafeb5441a290b4bfdeeb38&id=226759b4e6&f_id=00e24be0f0" method="post" class="newsletter-form" target="_blank" rel="noopener noreferrer">
                    <input type="email" name="EMAIL" placeholder="Your email" required>
                    <input type="text" name="FNAME" placeholder="First name (optional)">
                    <input type="text" name="LNAME" placeholder="Last name (optional)">
                    <input type="text" name="b_3dbafeb5441a290b4bfdeeb38_226759b4e6" style="display: none;" tabindex="-1">
                    <button type="submit" class="btn-subscribe">Subscribe</button>
                </form>
            </div>

            <!-- YouTube Card -->
            <div class="stay-updated-card">
                <div>
                    <h3>‚ñ∂Ô∏è YouTube Channel</h3>
                    <p>Subscribe to my channel for regular tutorials & insights about SAP EWM.</p>
                </div>
                <a href="https://www.youtube.com/@sapewm?sub_confirmation=1" target="_blank" rel="noopener noreferrer" class="btn-youtube">Subscribe on YouTube</a>
            </div>
        </div>

        <div class="freelancer-cta">
            <p><strong>Need EWM expertise within your project?</strong><br>
            WMexperts.online is a knowledge-sharing project of Hendrik, a Senior SAP EWM Freelancer.</p>
            <a href="#" class="btn-freelance">Explore my Freelance Profile ‚Üí</a>
        </div>
    </article>

    <!-- ENHANCED LIGHTBOX OVERLAY -->
    <div id="lightbox">
        <span class="lightbox-close" id="lightbox-close">&times;</span>
        <span class="lightbox-prev" id="lightbox-prev">&#8249;</span>
        <span class="lightbox-next" id="lightbox-next">&#8250;</span>
        <div class="lightbox-content">
            <img id="lightbox-img" src="" alt="">
        </div>
        <div class="lightbox-counter" id="lightbox-counter"></div>
    </div>

    <footer>&copy; 2026 WMexperts.online ‚Ä¢ Functional & Technical SAP EWM Expertise</footer>

    <!-- ENHANCED LIGHTBOX JAVASCRIPT -->
    <script>
        (function() {
            const lightbox = document.getElementById('lightbox');
            const lightboxImg = document.getElementById('lightbox-img');
            const lightboxClose = document.getElementById('lightbox-close');
            const lightboxPrev = document.getElementById('lightbox-prev');
            const lightboxNext = document.getElementById('lightbox-next');
            const lightboxCounter = document.getElementById('lightbox-counter');
            
            // Get all images that should be zoomable
            const images = document.querySelectorAll('.screenshot-container img, .content img');
            let currentImageIndex = 0;

            // Add click event to all images
            images.forEach((img, index) => {
                img.addEventListener('click', function() {
                    openLightbox(index);
                });
            });

            function openLightbox(index) {
                currentImageIndex = index;
                lightboxImg.src = images[currentImageIndex].src;
                lightboxImg.alt = images[currentImageIndex].alt;
                lightbox.classList.add('active');
                document.body.classList.add('lightbox-open');
                updateCounter();
                
                // Show/hide navigation arrows based on number of images
                if (images.length <= 1) {
                    lightboxPrev.style.display = 'none';
                    lightboxNext.style.display = 'none';
                } else {
                    lightboxPrev.style.display = 'block';
                    lightboxNext.style.display = 'block';
                }
            }

            function closeLightbox() {
                lightbox.classList.remove('active');
                document.body.classList.remove('lightbox-open');
            }

            function showPrevImage() {
                currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;
                lightboxImg.src = images[currentImageIndex].src;
                lightboxImg.alt = images[currentImageIndex].alt;
                updateCounter();
            }

            function showNextImage() {
                currentImageIndex = (currentImageIndex + 1) % images.length;
                lightboxImg.src = images[currentImageIndex].src;
                lightboxImg.alt = images[currentImageIndex].alt;
                updateCounter();
            }

            function updateCounter() {
                if (images.length > 1) {
                    lightboxCounter.textContent = `${currentImageIndex + 1} / ${images.length}`;
                    lightboxCounter.style.display = 'block';
                } else {
                    lightboxCounter.style.display = 'none';
                }
            }

            // Event listeners
            lightboxClose.addEventListener('click', function(e) {
                e.stopPropagation();
                closeLightbox();
            });

            lightboxPrev.addEventListener('click', function(e) {
                e.stopPropagation();
                showPrevImage();
            });

            lightboxNext.addEventListener('click', function(e) {
                e.stopPropagation();
                showNextImage();
            });

            // Click on overlay background to close
            lightbox.addEventListener('click', function(e) {
                if (e.target === lightbox) {
                    closeLightbox();
                }
            });

            // Keyboard navigation
            document.addEventListener('keydown', function(e) {
                if (!lightbox.classList.contains('active')) return;
                
                if (e.key === 'Escape') {
                    closeLightbox();
                } else if (e.key === 'ArrowLeft') {
                    showPrevImage();
                } else if (e.key === 'ArrowRight') {
                    showNextImage();
                }
            });

            // Prevent image content click from closing lightbox
            lightboxImg.addEventListener('click', function(e) {
                e.stopPropagation();
            });
        })();
    </script>

</body>
</html>
